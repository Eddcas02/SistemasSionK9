{"version":3,"sources":["services/getOcultarColumnaUsuario.js","views/components/flujos/flujo/PendientesRecordatorio.js"],"names":["API","process","getOcultarColumnaUsuario","idUsuario","token","ApiFinal","ApiWhere","fetch","method","headers","Authorization","Accept","then","response","json","catch","error","PendientesRecordatorio","prop","history","useHistory","session","useSession","data","setListdata","useState","permisos","setPermisos","showModalAutorizar","setShowModalAutorizar","showAutorizar","setShowAutorizar","actualizarTabla","setActualizarTabla","camposOcultos","setListOcultos","anchoConcepto","setAnchoConcepto","OcultarCampo","campo","result","item","NombreColumna","ExistePermiso","permiso","descripcion","useEffect","mounted","id","getRecordatorioPorUsuario","api_token","items","flujos","datosOrdenados","forEach","push","id_flujo","estado","nivel","id_grupo","id_grupoautorizacion","PuedoAutorizar","pago","doc_num","sessionStorage","setItem","JSON","stringify","getPerfilUsuario","detalle","ocultar","length","customStyles","headRow","style","borderTopStyle","borderTopWidth","borderTopColor","defaultThemes","default","divider","headCells","paddingLeft","paddingRight","fontSize","borderRightStyle","borderRightWidth","borderRightColor","cells","handleInput","event","target","checked","value","formatear","valor","moneda","formatter","format","formatterDolar","Intl","NumberFormat","currency","columns","useMemo","name","cell","row","tienePermisoAutorizar","type","width","height","onChange","defaultChecked","getItem","center","omit","selector","empresa_nombre","sortable","wrap","creation_date","en_favor_de","comments","doc_total","doc_curr","MostrarCargar","variant","size","title","onClick","pathname","pagina","className","grupo","tableData","filterPlaceholder","export","print","async","AccionModalAutorizar","opcion","pagos","markedCheckbox","document","getElementsByName","checkbox","valorPago","partes","split","postFlujos","postFlujoDetalle","removeItem","respuesta","postNotificacion","responsive","show","centered","Header","closeButton","Title","Body","Footer","color","noDataComponent","pagination","paginationPerPage","persistTableHead","striped","onSort","columna","direccion","e","sort","a","b","dense"],"mappings":"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","file":"static/js/71.bb91178b.chunk.js","sourcesContent":["const API = `${process.env.REACT_APP_API_URL}ocultarcolumnausuario`\n\nexport function getOcultarColumnaUsuario(idUsuario, token) {\n  let ApiFinal = API\n  let ApiWhere = ''\n  if (idUsuario !== null) {\n    ApiWhere += '/' + idUsuario\n  }\n  ApiFinal += ApiWhere\n  return fetch(ApiFinal, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { CButton } from '@coreui/react'\nimport { useHistory } from 'react-router-dom'\nimport { Button, FormControl, ModalTitle, Modal } from 'react-bootstrap'\nimport DataTable, { defaultThemes } from 'react-data-table-component'\nimport { getRecordatorioPorUsuario } from '../../../../services/getRecordatorioUsuario'\nimport { useSession } from 'react-use-session'\nimport { FaList, FaFileUpload, FaUsersCog } from 'react-icons/fa'\nimport '../../../../scss/estilos.scss'\nimport DataTableExtensions from 'react-data-table-component-extensions'\nimport 'react-data-table-component-extensions/dist/index.css'\nimport { getPerfilUsuario } from '../../../../services/getPerfilUsuario'\nimport { postFlujos } from '../../../../services/postFlujos'\nimport { postFlujoDetalle } from '../../../../services/postFlujoDetalle'\nimport { postNotificacion } from '../../../../services/postNotificacion'\nimport { getOcultarColumnaUsuario } from '../../../../services/getOcultarColumnaUsuario'\n\nconst PendientesRecordatorio = (prop) => {\n  const history = useHistory()\n  const { session } = useSession('PendrogonIT-Session')\n  const [data, setListdata] = useState([])\n  const [permisos, setPermisos] = useState([])\n  const [showModalAutorizar, setShowModalAutorizar] = useState(false)\n  const [showAutorizar, setShowAutorizar] = useState(false)\n  const [actualizarTabla, setActualizarTabla] = useState(0)\n  const [camposOcultos, setListOcultos] = useState([])\n  const [anchoConcepto, setAnchoConcepto] = useState('285px')\n\n  useEffect(() => {\n    let mounted = true\n    let objeto = 'Modulo Autorizacion Pagos'\n    let idUsuario = 0\n    if (session) {\n      idUsuario = session.id\n    }\n    getRecordatorioPorUsuario(idUsuario, session.api_token).then((items) => {\n      if (mounted) {\n        setListdata(items.flujos)\n        let datosOrdenados = []\n        items.flujos.forEach((item) => {\n          datosOrdenados.push({\n            id_flujo: item.id_flujo,\n            estado: item.estado,\n            nivel: item.nivel,\n            id_grupo: item.id_grupoautorizacion,\n            PuedoAutorizar: item.PuedoAutorizar,\n            pago: item.doc_num,\n          })\n        })\n        sessionStorage.setItem('listaPagos', JSON.stringify(datosOrdenados))\n      }\n    })\n    getPerfilUsuario(session.id, '4', objeto, session.api_token).then((items) => {\n      if (mounted) {\n        setPermisos(items.detalle)\n      }\n    })\n    getOcultarColumnaUsuario(session.id, session.api_token).then((items) => {\n      if (mounted) {\n        setListOcultos(items.ocultar)\n        if (items.ocultar.length > 0) {\n          setAnchoConcepto('auto')\n        } else {\n          setAnchoConcepto('285px')\n        }\n      }\n    })\n    return () => (mounted = false)\n  }, [actualizarTabla])\n\n  function OcultarCampo(campo) {\n    let result = false\n    for (let item of camposOcultos) {\n      if (campo == item.NombreColumna) {\n        result = true\n      }\n    }\n    return result\n  }\n\n  function ExistePermiso(permiso) {\n    let result = false\n    for (let item of permisos) {\n      if (permiso == item.descripcion) {\n        result = true\n      }\n    }\n    return result\n  }\n\n  const customStyles = {\n    headRow: {\n      style: {\n        borderTopStyle: 'solid',\n        borderTopWidth: '1px',\n        borderTopColor: defaultThemes.default.divider.default,\n      },\n    },\n    headCells: {\n      style: {\n        paddingLeft: '8px', // override the cell padding for head cells\n        paddingRight: '8px',\n        fontSize: '12px',\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n    cells: {\n      style: {\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n  }\n\n  function estaChequeado(item) {\n    return sessionStorage.getItem(item) === 'true'\n  }\n\n  const handleInput = (event) => {\n    if (event.target.checked) {\n      sessionStorage.setItem(event.target.value, 'true')\n    } else {\n      sessionStorage.setItem(event.target.value, 'false')\n    }\n  }\n\n  const formatear = (valor, moneda) => {\n    if (moneda === 'QTZ') {\n      return formatter.format(valor)\n    } else {\n      return formatterDolar.format(valor)\n    }\n  }\n\n  let formatter = new Intl.NumberFormat('es-GT', {\n    style: 'currency',\n    currency: 'GTQ',\n  })\n  let formatterDolar = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n  })\n\n  const columns = useMemo(() => [\n    {\n      name: ' ',\n      cell: function OrderItems(row) {\n        let tienePermisoAutorizar = ExistePermiso('Autorizar')\n        if (row.PuedoAutorizar == 1 && tienePermisoAutorizar) {\n          setShowAutorizar(true)\n          return (\n            <div>\n              <input\n                type=\"checkbox\"\n                name=\"autorizarPago\"\n                key={row.id_flujo}\n                value={row.id_flujo + '|' + row.estado + '|' + row.nivel}\n                style={{ width: '18px', height: '18px' }}\n                onChange={handleInput}\n                defaultChecked={estaChequeado(row.id_flujo + '|' + row.estado + '|' + row.nivel)}\n              />\n            </div>\n          )\n        }\n      },\n      center: true,\n      width: '35px',\n      omit: OcultarCampo('Selección'),\n    },\n    {\n      name: 'Empresa',\n      selector: (row) => row.empresa_nombre,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      wrap: true,\n      width: '150px',\n      omit: OcultarCampo('Empresa'),\n    },\n    {\n      name: 'No.',\n      selector: (row) => row.doc_num,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      width: '90px',\n      omit: OcultarCampo('No. documento'),\n    },\n    {\n      name: 'Fecha Sis.',\n      selector: (row) => row.creation_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha sistema'),\n    },\n    {\n      name: 'Beneficiario',\n      selector: (row) => row.en_favor_de,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: '250px',\n      omit: OcultarCampo('Beneficiario'),\n    },\n    {\n      name: 'Concepto',\n      selector: (row) => row.comments,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: anchoConcepto,\n      omit: OcultarCampo('Concepto'),\n    },\n    {\n      name: 'Monto',\n      selector: (row) => formatear(row.doc_total, row.doc_curr),\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '120px',\n      omit: OcultarCampo('Monto'),\n    },\n    {\n      name: 'Acciones',\n      cell: function OrderItems(row) {\n        let MostrarCargar = ExistePermiso('Cargar')\n        let SoloVer = ExistePermiso('Visualizar_completo')\n        if (SoloVer) {\n          return (\n            <div>\n              <Button\n                data-tag=\"allowRowEvents\"\n                variant=\"success\"\n                size=\"sm\"\n                title=\"Consultar Detalle Pago\"\n                onClick={() =>\n                  history.push({\n                    pathname: '/pagos/tabs',\n                    id_flujo: row.id_flujo,\n                    pago: row.doc_num,\n                    estado: row.estado,\n                    nivel: row.nivel,\n                    id_grupo: row.id_grupoautorizacion,\n                    PuedoAutorizar: row.PuedoAutorizar,\n                    pagina: 'transferencia',\n                  })\n                }\n              >\n                <FaList />\n              </Button>\n            </div>\n          )\n        } else {\n          if (row.estado == 1) {\n            return (\n              <div>\n                <Button\n                  data-tag=\"allowRowEvents\"\n                  size=\"sm\"\n                  variant=\"primary\"\n                  title=\"Cargar Archivo\"\n                  className={!MostrarCargar ? 'd-none' : ''}\n                  onClick={() =>\n                    history.push({\n                      pathname: '/archivoflujo/nuevo',\n                      id_flujo: row.id_flujo,\n                      pago: row.doc_num,\n                      grupo: row.id_grupoautorizacion,\n                      estado: row.estado,\n                    })\n                  }\n                >\n                  <FaFileUpload />\n                </Button>{' '}\n                <Button\n                  data-tag=\"allowRowEvents\"\n                  variant=\"success\"\n                  size=\"sm\"\n                  title=\"Consultar Detalle Pago\"\n                  onClick={() =>\n                    history.push({\n                      pathname: '/pagos/tabs',\n                      id_flujo: row.id_flujo,\n                      pago: row.doc_num,\n                      estado: row.estado,\n                      nivel: row.nivel,\n                      id_grupo: row.id_grupoautorizacion,\n                      PuedoAutorizar: row.PuedoAutorizar,\n                      pagina: 'transferencia',\n                    })\n                  }\n                >\n                  <FaList />\n                </Button>\n              </div>\n            )\n          } else if (row.estado == 2) {\n            return (\n              <div>\n                <Button\n                  data-tag=\"allowRowEvents\"\n                  size=\"sm\"\n                  variant=\"primary\"\n                  title=\"Cargar Archivo\"\n                  className={!MostrarCargar ? 'd-none' : ''}\n                  onClick={() =>\n                    history.push({\n                      pathname: '/archivoflujo/nuevo',\n                      id_flujo: row.id_flujo,\n                      pago: row.doc_num,\n                      grupo: row.id_grupoautorizacion,\n                      estado: row.estado,\n                    })\n                  }\n                >\n                  <FaFileUpload />\n                </Button>{' '}\n                <Button\n                  data-tag=\"allowRowEvents\"\n                  size=\"sm\"\n                  variant=\"primary\"\n                  title=\"Asignar Grupo\"\n                  onClick={() =>\n                    history.push({\n                      pathname: '/pagos/flujogrupo',\n                      id_flujo: row.id_flujo,\n                      pago: row.doc_num,\n                    })\n                  }\n                >\n                  <FaUsersCog />\n                </Button>{' '}\n                <Button\n                  data-tag=\"allowRowEvents\"\n                  variant=\"success\"\n                  size=\"sm\"\n                  title=\"Consultar Detalle Pago\"\n                  onClick={() =>\n                    history.push({\n                      pathname: '/pagos/tabs',\n                      id_flujo: row.id_flujo,\n                      pago: row.doc_num,\n                      estado: row.estado,\n                      nivel: row.nivel,\n                      id_grupo: row.id_grupoautorizacion,\n                      PuedoAutorizar: row.PuedoAutorizar,\n                      pagina: 'transferencia',\n                    })\n                  }\n                >\n                  <FaList />\n                </Button>\n              </div>\n            )\n          } else {\n            return (\n              <div>\n                <Button\n                  data-tag=\"allowRowEvents\"\n                  size=\"sm\"\n                  variant=\"primary\"\n                  title=\"Cargar Archivo\"\n                  className={!MostrarCargar ? 'd-none' : ''}\n                  onClick={() =>\n                    history.push({\n                      pathname: '/archivoflujo/nuevo',\n                      id_flujo: row.id_flujo,\n                      pago: row.doc_num,\n                      grupo: row.id_grupoautorizacion,\n                      estado: row.estado,\n                    })\n                  }\n                >\n                  <FaFileUpload />\n                </Button>{' '}\n                <Button\n                  data-tag=\"allowRowEvents\"\n                  variant=\"success\"\n                  size=\"sm\"\n                  title=\"Consultar Detalle Pago\"\n                  onClick={() =>\n                    history.push({\n                      pathname: '/pagos/tabs',\n                      id_flujo: row.id_flujo,\n                      pago: row.doc_num,\n                      estado: row.estado,\n                      nivel: row.nivel,\n                      id_grupo: row.id_grupoautorizacion,\n                      PuedoAutorizar: row.PuedoAutorizar,\n                      pagina: 'transferencia',\n                    })\n                  }\n                >\n                  <FaList />\n                </Button>\n              </div>\n            )\n          }\n        }\n      },\n      center: true,\n      width: '125px',\n      omit: OcultarCampo('Acciones'),\n    },\n  ])\n  const tableData = {\n    columns,\n    data,\n    filterPlaceholder: 'Filtrar datos',\n    export: false,\n    print: false,\n  }\n\n  function mostrarModalAutorizar() {\n    setShowModalAutorizar(true)\n  }\n\n  function Ordenamiento(columna, direccion, e) {\n    if (columna.name == 'Empresa' && direccion == 'asc') {\n      data.sort(function (a, b) {\n        if (a.empresa_nombre > b.empresa_nombre) {\n          return 1\n        }\n        if (a.empresa_nombre < b.empresa_nombre) {\n          return -1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Empresa' && direccion == 'desc') {\n      data.sort(function (a, b) {\n        if (a.empresa_nombre > b.empresa_nombre) {\n          return -1\n        }\n        if (a.empresa_nombre < b.empresa_nombre) {\n          return 1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'No.' && direccion == 'asc') {\n      data.sort(function (a, b) {\n        if (a.doc_num > b.doc_num) {\n          return 1\n        }\n        if (a.doc_num < b.doc_num) {\n          return -1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'No.' && direccion == 'desc') {\n      data.sort(function (a, b) {\n        if (a.doc_num > b.doc_num) {\n          return -1\n        }\n        if (a.doc_num < b.doc_num) {\n          return 1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Fecha Sis.' && direccion == 'asc') {\n      data.sort(function (a, b) {\n        if (a.creation_date > b.creation_date) {\n          return 1\n        }\n        if (a.creation_date < b.creation_date) {\n          return -1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Fecha Sis.' && direccion == 'desc') {\n      data.sort(function (a, b) {\n        if (a.creation_date > b.creation_date) {\n          return -1\n        }\n        if (a.creation_date < b.creation_date) {\n          return 1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Beneficiario' && direccion == 'asc') {\n      data.sort(function (a, b) {\n        if (a.en_favor_de > b.en_favor_de) {\n          return 1\n        }\n        if (a.en_favor_de < b.en_favor_de) {\n          return -1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Beneficiario' && direccion == 'desc') {\n      data.sort(function (a, b) {\n        if (a.en_favor_de > b.en_favor_de) {\n          return -1\n        }\n        if (a.en_favor_de < b.en_favor_de) {\n          return 1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Monto' && direccion == 'asc') {\n      data.sort(function (a, b) {\n        if (formatear(a.doc_total, a.doc_curr) > formatear(b.doc_total, b.doc_curr)) {\n          return 1\n        }\n        if (formatear(a.doc_total, a.doc_curr) < formatear(b.doc_total, b.doc_curr)) {\n          return -1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Monto' && direccion == 'desc') {\n      data.sort(function (a, b) {\n        if (formatear(a.doc_total, a.doc_curr) > formatear(b.doc_total, b.doc_curr)) {\n          return -1\n        }\n        if (formatear(a.doc_total, a.doc_curr) < formatear(b.doc_total, b.doc_curr)) {\n          return 1\n        }\n        return 0\n      })\n    }\n    let datosOrdenados = []\n    data.forEach((item) => {\n      datosOrdenados.push({\n        id_flujo: item.id_flujo,\n        estado: item.estado,\n        nivel: item.nivel,\n        id_grupo: item.id_grupoautorizacion,\n        PuedoAutorizar: item.PuedoAutorizar,\n        pago: item.doc_num,\n      })\n    })\n    sessionStorage.setItem('listaPagos', JSON.stringify(datosOrdenados))\n    return true\n  }\n\n  async function AccionModalAutorizar(opcion) {\n    if (opcion == 1) {\n      let pagos = []\n      var markedCheckbox = document.getElementsByName('autorizarPago')\n      for (var checkbox of markedCheckbox) {\n        if (checkbox.checked) {\n          let valorPago = checkbox.value\n          let partes = checkbox.value.split('|')\n          if (partes[1] == 3) {\n            await postFlujos(partes[0], '2', '', '', null, session.id, session.api_token)\n            await postFlujoDetalle(partes[0], '4', session.id, 'Aprobado', '1', session.api_token)\n            sessionStorage.removeItem(valorPago)\n          } else if (partes[1] == 4) {\n            const respuesta = await postFlujos(\n              partes[0],\n              partes[2],\n              '',\n              '',\n              null,\n              session.id,\n              session.api_token,\n            )\n            if (respuesta == 'OK') {\n              await postFlujoDetalle(\n                partes[0],\n                '4',\n                session.id,\n                'Aprobado',\n                partes[2],\n                session.api_token,\n              )\n              sessionStorage.removeItem(valorPago)\n            } else if (respuesta == 'Finalizado') {\n              const finalizado = await postFlujoDetalle(\n                partes[0],\n                '5',\n                session.id,\n                'Autorización completa',\n                partes[2],\n                session.api_token,\n              )\n              if (finalizado == 'OK') {\n                pagos.push(partes[0])\n                sessionStorage.removeItem(valorPago)\n              }\n            }\n          }\n        }\n      }\n      if (pagos.length > 0) {\n        await postNotificacion(pagos, session.id, 'autorizado por completo.', '', session.api_token)\n      }\n      setActualizarTabla(actualizarTabla + 1)\n      setShowModalAutorizar(false)\n    } else if (opcion == 2) {\n      setShowModalAutorizar(false)\n    }\n  }\n\n  if (session) {\n    return (\n      <>\n        <Modal responsive variant=\"primary\" show={showModalAutorizar} centered>\n          <Modal.Header closeButton>\n            <Modal.Title>Confirmación</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>¿Está seguro de autorizar los pagos seleccionados?</Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => AccionModalAutorizar(2)}>\n              Cancelar\n            </Button>\n            <Button variant=\"primary\" onClick={() => AccionModalAutorizar(1)}>\n              Aceptar\n            </Button>\n          </Modal.Footer>\n        </Modal>\n        <div>\n          <CButton\n            className={!showAutorizar ? 'd-none float-right' : 'float-right'}\n            color=\"primary\"\n            size=\"sm\"\n            onClick={() => mostrarModalAutorizar()}\n          >\n            Autorizar pagos seleccionados\n          </CButton>\n          <br />\n          <br />\n        </div>\n        <DataTableExtensions {...tableData}>\n          <DataTable\n            columns={columns}\n            noDataComponent=\"No hay pagos que mostrar\"\n            data={data}\n            customStyles={customStyles}\n            pagination\n            paginationPerPage={25}\n            responsive={true}\n            persistTableHead\n            striped={true}\n            onSort={Ordenamiento}\n            dense\n          />\n        </DataTableExtensions>\n      </>\n    )\n  } else {\n    history.push('/')\n    return <div className=\"sin-sesion\">SIN SESIÓN ACTIVA.</div>\n  }\n}\n\nexport default PendientesRecordatorio\n"],"sourceRoot":""}