(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[34],{569:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));const o="".concat("http://34.208.193.210/apipagos/api/","soportebitacora");function i(e,t,a,i){let s=o,r="";return null!==e&&(r+="/"+e+"/"+t),null!==a&&(r+="/"+a),s+=r,fetch(s,{method:"GET",headers:{Authorization:"Bearer "+i,Accept:"application/json"}}).then((function(e){return e.json()})).catch((e=>e))}},570:function(e,t,a){},840:function(e,t,a){"use strict";a.r(t);var o=a(1),i=a(16),s=a(569),r=a(470),n=a(459),c=a(464),l=(a(460),a(462)),d=a(469),u=a.n(d),p=a(471),h=a.n(p),b=(a(472),a(570),a(10));t.default=()=>{const e=Object(i.g)(),{session:t,clear:a}=Object(n.useSession)("PendrogonIT-Session"),[p,f]=Object(o.useState)([]),[g,j]=Object(o.useState)([]),[m,S]=Object(o.useState)(""),[x,O]=Object(o.useState)("");Object(o.useEffect)((()=>{let e=!0,a=0;t&&(a=t.id);let o="",i="";if(null===sessionStorage.getItem("fechaBitacoraInicial")&&null===sessionStorage.getItem("fechaBitacoraFinal")){let e=new Date;e.setHours(e.getHours()-6),o=e.toISOString().split("T")[0];let t=new Date;t.setHours(t.getHours()-6),t.setDate(t.getDate()+1),i=t.toISOString().split("T")[0],S(o),sessionStorage.setItem("fechaBitacoraInicial",o),O(i),sessionStorage.setItem("fechaBitacoraFinal",i)}else S(sessionStorage.getItem("fechaBitacoraInicial")),o=sessionStorage.getItem("fechaBitacoraInicial"),O(sessionStorage.getItem("fechaBitacoraFinal")),i=sessionStorage.getItem("fechaBitacoraFinal");return Object(s.a)(o,i,null,t.api_token).then((t=>{e&&f(t.bitacora)})),Object(r.a)(a,"2","Modulo Bitacora",t.api_token).then((t=>{e&&j(t.detalle)})),()=>e=!1}),[]);const y={headRow:{style:{borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:d.defaultThemes.default.divider.default}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px",fontSize:"12px","&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:d.defaultThemes.default.divider.default}}},cells:{style:{"&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:d.defaultThemes.default.divider.default}}}},I=Object(o.useMemo)((()=>[{name:"Usuario",selector:e=>e.nombre_usuario,center:!0,style:{fontSize:"11px"},sortable:!0,wrap:!0},{name:"Nombre",selector:e=>e.nombre+" "+e.apellido,center:!0,style:{fontSize:"11px"},sortable:!0,wrap:!0},{name:"Fecha",selector:e=>e.fecha_hora,center:!0,style:{fontSize:"11px"},sortable:!0},{name:"Acci\xf3n",selector:e=>e.accion,center:!0,style:{fontSize:"11px"},sortable:!0},{name:"Objeto",selector:e=>e.objeto,center:!0,style:{fontSize:"11px"},sortable:!0},{name:"Acciones",cell:function(t){return Object(b.jsx)("div",{children:Object(b.jsx)(l.c,{color:"primary",size:"sm",title:"Detalle",onClick:()=>e.push({pathname:"/detallebitacora",id_bitacora:t.id_bitacora}),children:Object(b.jsx)(c.k,{})})})},center:!0,width:"200px"}])),B={columns:I,data:p,filterPlaceholder:"Filtrar datos",export:!1,print:!1};return t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{style:{display:"flex",gap:"10px",flexDirection:"row",justifyContent:"flex-end"},children:["De:",Object(b.jsx)("input",{defaultValue:m,type:"date",onChange:e=>{var t;t=e.target.value,S(t),sessionStorage.setItem("fechaBitacoraInicial",t)}}),"A:",Object(b.jsx)("input",{defaultValue:x,type:"date",onChange:e=>{var t;t=e.target.value,O(t),sessionStorage.setItem("fechaBitacoraFinal",t)}})," ",Object(b.jsx)(l.c,{color:"primary",size:"sm",title:"Buscar",onClick:async function(){await Object(s.a)(m,x,null,t.api_token).then((e=>{f(e.bitacora)}))},children:Object(b.jsx)(c.r,{})})]}),Object(b.jsx)(h.a,{...B,children:Object(b.jsx)(u.a,{columns:I,noDataComponent:"No hay registros que mostrar",data:p,customStyles:y,pagination:!0,paginationPerPage:25,responsive:!0,persistTableHead:!0,striped:!0,dense:!0})})]}):(e.push("/"),Object(b.jsx)("div",{className:"sin-sesion",children:"SIN SESI\xd3N ACTIVA."}))}}}]);
//# sourceMappingURL=34.46d88ff9.chunk.js.map