(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[78],{524:function(e,c,i){"use strict";i.d(c,"a",(function(){return n}));const t="".concat("http://34.208.193.210/apipagos/api/","condicionautorizacion");function n(e,c,i,n,o,s,a){let r=t,d="";var l={id_condicion:e,descripcion:c,parametro:i,activo:n,opcion:o,id_usuario:s};""!==e&&""!==o&&(d+="/"+e+"/"+o),r+=d;const j=JSON.stringify(l);return fetch(r,{method:"POST",body:j,headers:{Authorization:"Bearer "+a,Accept:"application/json","Content-type":"application/json;charset=UTF-8"}}).then((e=>e.json())).then((e=>e)).catch((e=>e))}},926:function(e,c,i){"use strict";i.r(c);var t=i(1),n=i(16),o=i(459),s=i(818),a=(i(465),i(464));const r="".concat("http://34.208.193.210/apipagos/api/","condicionautorizacion");function d(e,c,i){let t=r,n="";return null!==e&&(n.length>0?n+="&id_condicionautorizacion="+e:n+="?id_condicionautorizacion="+e),null!==c&&(n.length>0?n+="&descripcion="+c:n+="?descripcion="+c),t+=n,fetch(t,{method:"GET",headers:{Authorization:"Bearer "+i,Accept:"application/json"}}).then((function(e){return e.json()})).catch((e=>e))}var l=i(470),j=i(524),u=i(463),h=(i(460),i(462)),p=i(10);c.default=()=>{const e=Object(n.g)(),[c,i]=Object(t.useState)(null),{session:r,clear:b}=Object(o.useSession)("PendrogonIT-Session"),[O,m]=Object(t.useState)([]),[x,f]=Object(t.useState)([]),[z,g]=Object(t.useState)(!1),[C,v]=Object(t.useState)(0),[_,A]=Object(t.useState)(0),[k,y]=Object(t.useState)("");async function S(c){if(1==c)g(!1);else if(2==c){let c=0;r&&(c=r.id);"OK"===await Object(u.a)(c,null,null,"2",r.api_token)&&(b(),e.push("/"))}}if(Object(t.useEffect)((()=>{let e=!0,c=0;return r&&(c=r.id),d(null,null,r.api_token).then((c=>{e&&m(c.condiciones)})),Object(l.a)(c,"2","Modulo Condiciones",r.api_token).then((c=>{e&&f(c.detalle)})),()=>e=!1}),[]),r){let c=!1;return function(e){let c=!1;for(let i of x)e===i.objeto&&(c=!0);return c}("Modulo Condiciones")||(c=!0),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(s.a,{responsive:!0,variant:"primary",show:z,onHide:()=>S(_),centered:!0,children:[Object(p.jsx)(s.a.Header,{closeButton:!0,children:Object(p.jsx)(s.a.Title,{children:"Confirmaci\xf3n"})}),Object(p.jsx)(s.a.Body,{children:k}),Object(p.jsxs)(s.a.Footer,{children:[Object(p.jsx)(h.c,{color:"secondary",onClick:()=>S(_),children:"Cancelar"}),Object(p.jsx)(h.c,{color:"primary",onClick:()=>async function(e,c){1==c?"OK"===await Object(j.a)(e,"","","","2",r.id,r.api_token)&&await d(null,null,r.api_token).then((e=>{m(e.condiciones)})):2==c&&g(!1)}(C,_).then((()=>S(1))),children:"Aceptar"})]})]}),Object(p.jsx)("div",{className:"float-right",style:{marginBottom:"10px"},children:Object(p.jsx)(h.c,{color:"primary",size:"sm",disabled:c,onClick:()=>e.push("/condiciones/nueva"),children:"Crear Nueva"})}),Object(p.jsxs)(h.F,{hover:!0,responsive:!0,align:"middle",className:"mb-0 border",children:[Object(p.jsx)(h.I,{color:"light",children:Object(p.jsxs)(h.K,{children:[Object(p.jsx)(h.J,{style:{textAlign:"center",width:"45%"},children:"Descripci\xf3n"}),Object(p.jsx)(h.J,{className:"text-center",children:"Par\xe1metro"}),Object(p.jsx)(h.J,{className:"text-center",children:"Estado"}),Object(p.jsx)(h.J,{style:{textAlign:"center",width:"20%"},children:"Acciones"})]})}),Object(p.jsx)(h.G,{children:O.map(((i,t)=>{let n="Inactivo";if(0==i.eliminado)return 1==i.activo&&(n="Activo"),Object(p.jsxs)(h.K,{children:[Object(p.jsx)(h.H,{className:"text-center",children:i.descripcion}),Object(p.jsx)(h.H,{className:"text-center",children:i.parametro}),Object(p.jsx)(h.H,{className:"text-center",children:n}),Object(p.jsxs)(h.H,{className:"text-center",children:[Object(p.jsx)(h.c,{color:"info",size:"sm",title:"Consultar Condici\xf3n Grupos",disabled:c,onClick:()=>e.push({pathname:"/condiciones/consulta",id_condicion:i.id_condicionautorizacion,descripcion:i.descripcion,estado:n}),children:Object(p.jsx)(a.w,{})})," ",Object(p.jsx)(h.c,{color:"success",size:"sm",title:"Asignar Grupo Autorizaci\xf3n",disabled:c,onClick:()=>e.push({pathname:"/condiciones/condiciongrupo",id_condicion:i.id_condicionautorizacion,descripcion:i.descripcion,estado:i.activo}),children:Object(p.jsx)(a.x,{})})," ",Object(p.jsx)(h.c,{color:"primary",size:"sm",title:"Editar Condici\xf3n Autorizaci\xf3n",disabled:c,onClick:()=>e.push({pathname:"/condiciones/editar",id_condicion:i.id_condicionautorizacion,descripcion:i.descripcion,parametro:i.parametro,estado:i.activo}),children:Object(p.jsx)(a.m,{})})," ",Object(p.jsx)(h.c,{color:"danger",size:"sm",title:"Eliminar Condici\xf3n Autorizaci\xf3n",disabled:c,onClick:()=>function(e,c){A(c),v(e),y("Est\xe1 seguro de eliminar esta condici\xf3n de autorizaci\xf3n?"),g(!0)}(i.id_condicionautorizacion,1),children:Object(p.jsx)(a.s,{})})]})]},i.id_condicionautorizacion)}))})]})]})}return e.push("/"),Object(p.jsx)("div",{className:"sin-sesion",children:"SIN SESI\xd3N ACTIVA."})}}}]);
//# sourceMappingURL=78.0a592e19.chunk.js.map