{"version":3,"sources":["services/getOcultarColumnaUsuario.js","services/getCompensados.js","views/components/flujos/flujo/Compensados.js","views/components/flujos/flujo/RechazadosPorBanco.js","services/getRechazadosBanco.js","services/getPendientesCompensacion.js","views/components/flujos/flujo/PendientesPago.js","services/getSolicitudRetorno.js","views/components/flujos/flujo/SolicitudRetorno.js","services/getLotesPago.js","views/components/flujos/flujo/LotesPago.js"],"names":["API","process","getOcultarColumnaUsuario","idUsuario","token","ApiFinal","ApiWhere","fetch","method","headers","Authorization","Accept","then","response","json","catch","error","getCompensados","Tipo","Compensados","prop","history","useHistory","location","useLocation","session","useSession","results","setList","useState","compensados","setCompensados","camposOcultos","setListOcultos","anchoConcepto","setAnchoConcepto","filteredItems","filteredItemsA","useEffect","mounted","tipo","id","api_token","items","bitacora","ocultar","length","customStyles","headRow","style","borderTopStyle","borderTopWidth","borderTopColor","defaultThemes","default","divider","headCells","paddingLeft","paddingRight","fontSize","borderRightStyle","borderRightWidth","borderRightColor","cells","OcultarCampo","campo","result","item","NombreColumna","formatter","Intl","NumberFormat","currency","formatterDolar","columns","useMemo","name","selector","row","empresa_nombre","center","sortable","wrap","width","omit","doc_num","creation_date","aut_date","en_favor_de","comments","format","doc_total","cell","Button","variant","size","title","onClick","push","pathname","id_flujo","IdFlujo","pago","estado","nivel","id_grupo","id_grupoautorizacion","columnsA","Pago","formatear","valor","doc_curr","async","Estado","Nivel","IdGrupo","pagos","postNotificacion","leerNotificaciones","tableData","data","filterPlaceholder","export","print","tableDataA","className","noDataComponent","pagination","paginationPerPage","responsive","persistTableHead","striped","dense","RechazadosPorBanco","comentarios","getRechazadosBanco","flujos","getPendientesCompensacion","FilterComponent","enviar","disabled","deshabilitar","PendientesPago","permisosRol","setPermisosRol","permisos","setPermisos","setPagos","show","setShow","showAlert","setShowAlert","resetPaginationToggle","setResetPaginationToggle","mensaje","setMensaje","filterText","setFilterText","titulo","setTitulo","color","setColor","MostrarReprocesar","setMostrarReprocesar","anchoConcepto2","setAnchoConcepto2","handleClose","objeto","getPerfilUsuario","detalle","descripcion","handleInput","event","target","checked","sessionStorage","setItem","value","estaChequeado","getItem","moneda","alignItems","TieneCheque","type","onChange","height","defaultChecked","handleClear","ExistePermisoObjeto","Alert","onClose","dismissible","Heading","Modal","onHide","centered","Header","closeButton","Title","Body","Footer","bandera","respuesta","postFlujos","removeItem","postFlujoDetalle","Compensar","marginBottom","onFilter","e","onClear","markedCheckbox","document","getElementsByName","checkbox","getSolicitudRetorno","SolicitudRetorno","getLotesPago","LotesPago","setLotesPago","mostrar","setMostrar","urlArchivo","setUrlArchivo","lotes","id_lotepago","fecha_hora","nombre","apellido","mostrarModal","idPagoLote","href","ReactDOM","createPortal","background","left","position","top","zIndex","display","flexDirection","overflowY","margin","textAlign","body"],"mappings":"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","file":"static/js/6.c2c8d771.chunk.js","sourcesContent":["const API = `${process.env.REACT_APP_API_URL}ocultarcolumnausuario`\n\nexport function getOcultarColumnaUsuario(idUsuario, token) {\n  let ApiFinal = API\n  let ApiWhere = ''\n  if (idUsuario !== null) {\n    ApiWhere += '/' + idUsuario\n  }\n  ApiFinal += ApiWhere\n  return fetch(ApiFinal, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","const API = `${process.env.REACT_APP_API_URL}compensados`\n\nexport function getCompensados(idUsuario, Tipo, token) {\n  let ApiFinal = API\n  let ApiWhere = ''\n\n  if (idUsuario !== null) {\n    ApiWhere += '/' + idUsuario\n  }\n  if (Tipo !== null) {\n    ApiWhere += '/' + Tipo\n  }\n  ApiFinal += ApiWhere\n  return fetch(ApiFinal, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { Button, FormControl } from 'react-bootstrap'\nimport DataTable, { createTheme, defaultThemes } from 'react-data-table-component'\nimport { getCompensados } from '../../../../services/getCompensados'\nimport { postNotificacion } from '../../../../services/postNotificacion'\nimport { useSession } from 'react-use-session'\nimport { FaList } from 'react-icons/fa'\nimport '../../../../scss/estilos.scss'\nimport DataTableExtensions from 'react-data-table-component-extensions'\nimport 'react-data-table-component-extensions/dist/index.css'\nimport { getOcultarColumnaUsuario } from '../../../../services/getOcultarColumnaUsuario'\n\nconst Compensados = (prop) => {\n  const history = useHistory()\n  const location = useLocation()\n  const { session } = useSession('PendrogonIT-Session')\n  const [results, setList] = useState([])\n  const [compensados, setCompensados] = useState([])\n  const [camposOcultos, setListOcultos] = useState([])\n  const [anchoConcepto, setAnchoConcepto] = useState('285px')\n  const filteredItems = results\n  const filteredItemsA = compensados\n\n  async function leerNotificaciones(IdFlujo, Pago, Estado, Nivel, IdGrupo) {\n    let pagos = []\n    pagos.push(IdFlujo)\n    const respuesta = await postNotificacion(pagos, session.id, '', '1', session.api_token)\n    if (respuesta == 'OK') {\n      history.push({\n        pathname: '/compensacion/tabs',\n        id_flujo: IdFlujo,\n        pago: Pago,\n        estado: Estado,\n        nivel: Nivel,\n        id_grupo: IdGrupo,\n      })\n    }\n  }\n\n  useEffect(() => {\n    let mounted = true\n    if (location.tipo) {\n      setCompensados(location.compensados)\n      getCompensados(session.id, location.tipo, session.api_token).then((items) => {\n        if (mounted) {\n          setList(items.bitacora)\n        }\n      })\n      getOcultarColumnaUsuario(session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setListOcultos(items.ocultar)\n          if (items.ocultar.length > 0) {\n            setAnchoConcepto('auto')\n          } else {\n            setAnchoConcepto('285px')\n          }\n        }\n      })\n    } else {\n      getCompensados(session.id, prop.tipo, session.api_token).then((items) => {\n        if (mounted) {\n          setList(items.bitacora)\n        }\n      })\n      getOcultarColumnaUsuario(session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setListOcultos(items.ocultar)\n          if (items.ocultar.length > 0) {\n            setAnchoConcepto('auto')\n          } else {\n            setAnchoConcepto('285px')\n          }\n        }\n      })\n    }\n    return () => (mounted = false)\n  }, [])\n\n  const customStyles = {\n    headRow: {\n      style: {\n        borderTopStyle: 'solid',\n        borderTopWidth: '1px',\n        borderTopColor: defaultThemes.default.divider.default,\n      },\n    },\n    headCells: {\n      style: {\n        paddingLeft: '8px', // override the cell padding for head cells\n        paddingRight: '8px',\n        fontSize: '12px',\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n    cells: {\n      style: {\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n  }\n\n  function OcultarCampo(campo) {\n    let result = false\n    for (let item of camposOcultos) {\n      if (campo == item.NombreColumna) {\n        result = true\n      }\n    }\n    return result\n  }\n\n  const formatear = (valor, moneda) => {\n    if (moneda === 'QTZ') {\n      return formatter.format(valor)\n    } else {\n      return formatterDolar.format(valor)\n    }\n  }\n\n  let formatter = new Intl.NumberFormat('es-GT', {\n    style: 'currency',\n    currency: 'GTQ',\n  })\n  let formatterDolar = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n  })\n\n  const columns = useMemo(() => [\n    {\n      name: 'Empresa',\n      selector: (row) => row.empresa_nombre,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      wrap: true,\n      width: '150px',\n      omit: OcultarCampo('Empresa'),\n    },\n    {\n      name: 'No.',\n      selector: (row) => row.doc_num,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      width: '90px',\n      omit: OcultarCampo('No. documento'),\n    },\n    {\n      name: 'Fecha Sis.',\n      selector: (row) => row.creation_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha sistema'),\n    },\n    {\n      name: 'Fecha auto.',\n      selector: (row) => row.aut_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha autorización'),\n    },\n    {\n      name: 'Beneficiario',\n      selector: (row) => row.en_favor_de,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: '250px',\n      omit: OcultarCampo('Beneficiario'),\n    },\n    {\n      name: 'Concepto',\n      selector: (row) => row.comments,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: anchoConcepto,\n      omit: OcultarCampo('Concepto'),\n    },\n    {\n      name: 'Monto',\n      selector: (row) => formatter.format(row.doc_total),\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '120px',\n      omit: OcultarCampo('Monto'),\n    },\n    {\n      name: 'Acciones',\n      cell: function OrderItems(row) {\n        return (\n          <div>\n            <Button\n              data-tag=\"allowRowEvents\"\n              variant=\"success\"\n              size=\"sm\"\n              title=\"Consultar Detalle Pago\"\n              onClick={() =>\n                history.push({\n                  pathname: '/compensacion/tabs',\n                  id_flujo: row.IdFlujo,\n                  pago: row.doc_num,\n                  estado: row.estado,\n                  nivel: row.nivel,\n                  id_grupo: row.id_grupoautorizacion,\n                })\n              }\n            >\n              <FaList />\n            </Button>\n          </div>\n        )\n      },\n      center: true,\n      width: '70px',\n      omit: OcultarCampo('Acciones'),\n    },\n  ])\n\n  const columnsA = useMemo(() => [\n    {\n      name: 'Empresa',\n      selector: (row) => row.empresa_nombre,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      wrap: true,\n      width: '150px',\n      omit: OcultarCampo('Empresa'),\n    },\n    {\n      name: 'No.',\n      selector: (row) => row.Pago,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      width: '90px',\n      omit: OcultarCampo('No. documento'),\n    },\n    {\n      name: 'Fecha Sis.',\n      selector: (row) => row.creation_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha sistema'),\n    },\n    {\n      name: 'Fecha auto.',\n      selector: (row) => row.aut_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha autorización'),\n    },\n    {\n      name: 'Tipo',\n      selector: (row) => row.tipo,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      width: '123px',\n      omit: OcultarCampo('Tipo'),\n    },\n    {\n      name: 'Beneficiario',\n      selector: (row) => row.en_favor_de,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: '250px',\n      omit: OcultarCampo('Beneficiario'),\n    },\n    {\n      name: 'Concepto',\n      selector: (row) => row.comments,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: anchoConcepto,\n      omit: OcultarCampo('Concepto'),\n    },\n    {\n      name: 'Monto',\n      selector: (row) => formatear(row.doc_total, row.doc_curr),\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '120px',\n      omit: OcultarCampo('Monto'),\n    },\n    {\n      name: 'Acciones',\n      cell: function OrderItems(row) {\n        return (\n          <div>\n            <Button\n              data-tag=\"allowRowEvents\"\n              variant=\"success\"\n              size=\"sm\"\n              title=\"Consultar Detalle Pago\"\n              onClick={() =>\n                leerNotificaciones(row.IdFlujo, row.Pago, row.estado, row.nivel, row.IdGrupo)\n              }\n            >\n              <FaList />\n            </Button>\n          </div>\n        )\n      },\n      center: true,\n      width: '70px',\n      omit: OcultarCampo('Acciones'),\n    },\n  ])\n\n  const tableData = {\n    columns: columns,\n    data: filteredItems,\n    filterPlaceholder: 'Filtrar datos',\n    export: false,\n    print: false,\n  }\n  const tableDataA = {\n    columns: columnsA,\n    data: filteredItemsA,\n    filterPlaceholder: 'Filtrar datos',\n    export: false,\n    print: false,\n  }\n\n  if (session) {\n    if (!location.tipo && !prop.tipo) {\n      history.push('/dashboard')\n      return (\n        <div className=\"sin-sesion\">\n          NO SE CARGÓ EL NÚMERO DE PAGO. REGRESE A LA PANTALLA DE PAGOS.\n        </div>\n      )\n    }\n    if (location.tipo) {\n      return (\n        <div>\n          <div>\n            <div className=\"datatable-title\">Pagos Notificados</div>\n            <DataTableExtensions {...tableDataA}>\n              <DataTable\n                columns={columnsA}\n                noDataComponent=\"No hay pagos que mostrar\"\n                data={filteredItemsA}\n                customStyles={customStyles}\n                pagination\n                paginationPerPage={5}\n                responsive={true}\n                persistTableHead\n                striped={true}\n                dense\n              />\n            </DataTableExtensions>\n          </div>\n        </div>\n      )\n    }\n    return (\n      <div>\n        <div>\n          <DataTableExtensions {...tableData}>\n            <DataTable\n              columns={columns}\n              noDataComponent=\"No hay pagos que mostrar\"\n              data={filteredItems}\n              customStyles={customStyles}\n              pagination\n              paginationPerPage={25}\n              responsive={true}\n              persistTableHead\n              striped={true}\n              dense\n            />\n          </DataTableExtensions>\n        </div>\n      </div>\n    )\n  } else {\n    history.push('/')\n    return <div className=\"sin-sesion\">SIN SESIÓN ACTIVA.</div>\n  }\n}\n\nexport default Compensados\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { Button } from 'react-bootstrap'\nimport DataTable, { defaultThemes } from 'react-data-table-component'\nimport { getRechazadosBanco } from '../../../../services/getRechazadosBanco'\nimport { useSession } from 'react-use-session'\nimport { FaList } from 'react-icons/fa'\nimport '../../../../scss/estilos.scss'\nimport DataTableExtensions from 'react-data-table-component-extensions'\nimport 'react-data-table-component-extensions/dist/index.css'\nimport { getOcultarColumnaUsuario } from '../../../../services/getOcultarColumnaUsuario'\n\nconst RechazadosPorBanco = (prop) => {\n  const history = useHistory()\n  const location = useLocation()\n  const { session } = useSession('PendrogonIT-Session')\n  const [results, setList] = useState([])\n  const [camposOcultos, setListOcultos] = useState([])\n  const [anchoConcepto, setAnchoConcepto] = useState('285px')\n  const filteredItems = results\n\n  useEffect(() => {\n    let mounted = true\n    if (location.comentarios && location.tipo) {\n      getRechazadosBanco(location.tipo, session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setList(items.flujos)\n        }\n      })\n      getOcultarColumnaUsuario(session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setListOcultos(items.ocultar)\n          if (items.ocultar.length > 0) {\n            setAnchoConcepto('auto')\n          } else {\n            setAnchoConcepto('285px')\n          }\n        }\n      })\n    } else {\n      getRechazadosBanco(prop.tipo, session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setList(items.flujos)\n        }\n      })\n      getOcultarColumnaUsuario(session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setListOcultos(items.ocultar)\n          if (items.ocultar.length > 0) {\n            setAnchoConcepto('auto')\n          } else {\n            setAnchoConcepto('285px')\n          }\n        }\n      })\n    }\n    return () => (mounted = false)\n  }, [])\n\n  const customStyles = {\n    headRow: {\n      style: {\n        borderTopStyle: 'solid',\n        borderTopWidth: '1px',\n        borderTopColor: defaultThemes.default.divider.default,\n      },\n    },\n    headCells: {\n      style: {\n        paddingLeft: '8px', // override the cell padding for head cells\n        paddingRight: '8px',\n        fontSize: '12px',\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n    cells: {\n      style: {\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n  }\n\n  function OcultarCampo(campo) {\n    let result = false\n    for (let item of camposOcultos) {\n      if (campo == item.NombreColumna) {\n        result = true\n      }\n    }\n    return result\n  }\n\n  const formatear = (valor, moneda) => {\n    if (moneda === 'QTZ') {\n      return formatter.format(valor)\n    } else {\n      return formatterDolar.format(valor)\n    }\n  }\n\n  let formatter = new Intl.NumberFormat('es-GT', {\n    style: 'currency',\n    currency: 'GTQ',\n  })\n  let formatterDolar = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n  })\n\n  const columns = useMemo(() => [\n    {\n      name: 'Empresa',\n      selector: (row) => row.empresa_nombre,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      wrap: true,\n      width: '150px',\n      omit: OcultarCampo('Empresa'),\n    },\n    {\n      name: 'No.',\n      selector: (row) => row.doc_num,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      width: '90px',\n      omit: OcultarCampo('No. documento'),\n    },\n    {\n      name: 'Fecha Sis.',\n      selector: (row) => row.creation_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha sistema'),\n    },\n    {\n      name: 'Fecha auto.',\n      selector: (row) => row.aut_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha autorización'),\n    },\n    {\n      name: 'Beneficiario',\n      selector: (row) => row.en_favor_de,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: '250px',\n      omit: OcultarCampo('Beneficiario'),\n    },\n    {\n      name: 'Concepto',\n      selector: (row) => row.comments,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: anchoConcepto,\n      omit: OcultarCampo('Concepto'),\n    },\n    {\n      name: 'Monto',\n      selector: (row) => formatear(row.doc_total, row.doc_curr),\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '120px',\n      omit: OcultarCampo('Monto'),\n    },\n    {\n      name: 'Acciones',\n      cell: function OrderItems(row) {\n        return (\n          <div>\n            <Button\n              data-tag=\"allowRowEvents\"\n              variant=\"success\"\n              size=\"sm\"\n              title=\"Consultar Detalle Pago\"\n              onClick={() =>\n                history.push({\n                  pathname: '/compensacion/tabs',\n                  id_flujo: row.id_flujo,\n                  pago: row.doc_num,\n                  estado: row.estado,\n                  nivel: row.nivel,\n                  id_grupo: row.id_grupoautorizacion,\n                })\n              }\n            >\n              <FaList />\n            </Button>\n          </div>\n        )\n      },\n      center: true,\n      width: '70px',\n      omit: OcultarCampo('Acciones'),\n    },\n  ])\n  const tableData = {\n    columns: columns,\n    data: filteredItems,\n    filterPlaceholder: 'Filtrar datos',\n    export: false,\n    print: false,\n  }\n\n  if (session) {\n    if (!location.tipo && !prop.tipo) {\n      history.push('/dashboard')\n      return (\n        <div className=\"sin-sesion\">\n          NO SE CARGÓ EL NÚMERO DE PAGO. REGRESE A LA PANTALLA DE PAGOS.\n        </div>\n      )\n    }\n    return (\n      <div>\n        <div>\n          <DataTableExtensions {...tableData}>\n            <DataTable\n              columns={columns}\n              noDataComponent=\"No hay pagos que mostrar\"\n              data={filteredItems}\n              customStyles={customStyles}\n              pagination\n              paginationPerPage={25}\n              responsive={true}\n              persistTableHead\n              striped={true}\n              dense\n            />\n          </DataTableExtensions>\n        </div>\n      </div>\n    )\n  } else {\n    history.push('/')\n    return <div className=\"sin-sesion\">SIN SESIÓN ACTIVA.</div>\n  }\n}\n\nexport default RechazadosPorBanco\n","const API = `${process.env.REACT_APP_API_URL}rechazadobanco`\n\nexport function getRechazadosBanco(Tipo, idUsuario, token) {\n  let ApiFinal = API\n  let ApiWhere = ''\n\n  if (Tipo !== null) {\n    ApiWhere += '/' + Tipo\n  }\n  if (idUsuario !== null) {\n    ApiWhere += '/' + idUsuario\n  }\n  ApiFinal += ApiWhere\n  return fetch(ApiFinal, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","const API = `${process.env.REACT_APP_API_URL}pendientescompensacion`\n\nexport function getPendientesCompensacion(Tipo, idUsuario, token) {\n  let ApiFinal = API\n  let ApiWhere = ''\n  if (Tipo !== null) {\n    ApiWhere += '/' + Tipo\n  }\n  if (idUsuario !== null) {\n    ApiWhere += '/' + idUsuario\n  }\n  ApiFinal += ApiWhere\n  return fetch(ApiFinal, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Alert, Modal, Button, FormControl } from 'react-bootstrap'\nimport DataTable, { createTheme, defaultThemes } from 'react-data-table-component'\nimport { getPerfilUsuario } from '../../../../services/getPerfilUsuario'\nimport { getPendientesCompensacion } from '../../../../services/getPendientesCompensacion'\nimport { postFlujos } from '../../../../services/postFlujos'\nimport { postFlujoDetalle } from '../../../../services/postFlujoDetalle'\nimport { postNotificacion } from '../../../../services/postNotificacion'\nimport { useSession } from 'react-use-session'\nimport { FaList } from 'react-icons/fa'\nimport '../../../../scss/estilos.scss'\nimport DataTableExtensions from 'react-data-table-component-extensions'\nimport 'react-data-table-component-extensions/dist/index.css'\nimport { getOcultarColumnaUsuario } from '../../../../services/getOcultarColumnaUsuario'\n\nconst FilterComponent = (prop) => (\n  <div className=\"div-search\">\n    <Button\n      variant=\"warning\"\n      size=\"sm\"\n      className=\"btn-compensacion\"\n      onClick={prop.enviar}\n      title=\"Compensar pagos\"\n      disabled={prop.deshabilitar}\n    >\n      Compensar Pagos\n    </Button>\n  </div>\n)\n\nconst PendientesPago = (prop) => {\n  const history = useHistory()\n  const { session } = useSession('PendrogonIT-Session')\n  const [results, setList] = useState([])\n  const [permisosRol, setPermisosRol] = useState([])\n  const [permisos, setPermisos] = useState([])\n  const [pagos, setPagos] = useState([])\n  const [show, setShow] = useState(false)\n  const [showAlert, setShowAlert] = useState(false)\n  const [resetPaginationToggle, setResetPaginationToggle] = useState(false)\n  const [mensaje, setMensaje] = useState('')\n  const [filterText, setFilterText] = useState('')\n  const [titulo, setTitulo] = useState('Error!')\n  const [color, setColor] = useState('danger')\n  const [MostrarReprocesar, setMostrarReprocesar] = useState(true)\n  const [camposOcultos, setListOcultos] = useState([])\n  const [anchoConcepto, setAnchoConcepto] = useState('285px')\n  const [anchoConcepto2, setAnchoConcepto2] = useState('270px')\n  const filteredItems = results\n\n  const handleClose = () => setShow(false)\n\n  useEffect(() => {\n    let mounted = true\n    let objeto = 'Modulo Compensacion Pagos'\n    let idUsuario = 0\n    if (session) {\n      idUsuario = session.id\n    }\n    getPendientesCompensacion(prop.tipo, idUsuario, session.api_token).then((items) => {\n      if (mounted) {\n        setList(items.flujos)\n      }\n    })\n    getPerfilUsuario(idUsuario, '2', objeto, session.api_token).then((items) => {\n      if (mounted) {\n        setPermisosRol(items.detalle)\n      }\n    })\n    getPerfilUsuario(idUsuario, '4', objeto, session.api_token).then((items) => {\n      if (mounted) {\n        setPermisos(items.detalle)\n        for (let item of items.detalle) {\n          if ('Compensar' == item.descripcion) {\n            setMostrarReprocesar(false)\n          }\n        }\n      }\n    })\n    getOcultarColumnaUsuario(session.id, session.api_token).then((items) => {\n      if (mounted) {\n        setListOcultos(items.ocultar)\n        if (items.ocultar.length > 0) {\n          setAnchoConcepto('auto')\n          setAnchoConcepto2('auto')\n        } else {\n          setAnchoConcepto('285px')\n          setAnchoConcepto2('270px')\n        }\n      }\n    })\n    return () => (mounted = false)\n  }, [])\n\n  function OcultarCampo(campo) {\n    let result = false\n    for (let item of camposOcultos) {\n      if (campo == item.NombreColumna) {\n        result = true\n      }\n    }\n    return result\n  }\n\n  function ExistePermisoObjeto(objeto) {\n    let result = false\n    for (let item of permisosRol) {\n      if (objeto == item.objeto) {\n        result = true\n      }\n    }\n    return result\n  }\n\n  function ExistePermiso(permiso) {\n    let result = false\n    for (let item of permisos) {\n      if (permiso == item.descripcion) {\n        result = true\n      }\n    }\n    return result\n  }\n\n  const handleInput = (event) => {\n    if (event.target.checked) {\n      sessionStorage.setItem(event.target.value, 'true')\n    } else {\n      sessionStorage.setItem(event.target.value, 'false')\n    }\n  }\n\n  function estaChequeado(item) {\n    return sessionStorage.getItem(item) === 'true'\n  }\n\n  async function Compensar() {\n    let bandera = 1\n    const respuesta = await postFlujos('0', '', '', '2', pagos, session.id, session.api_token)\n    if (respuesta === 'OK') {\n      for (let pago of pagos) {\n        sessionStorage.removeItem(pago)\n        const pagado = await postFlujoDetalle(\n          pago,\n          '7',\n          session.id,\n          'Compensado',\n          '0',\n          session.api_token,\n        )\n        if (pagado === 'OK') {\n          bandera *= 1\n        } else {\n          bandera *= 0\n        }\n      }\n      if (bandera == 1) {\n        const enviada = await postNotificacion(\n          pagos,\n          session.id,\n          'compensado.',\n          '',\n          session.api_token,\n        )\n        if (enviada == 'OK') {\n          await getPendientesCompensacion(prop.tipo, session.id, session.api_token).then(\n            (items) => {\n              setList(items.flujos)\n            },\n          )\n        }\n      }\n    } else {\n      setShowAlert(true)\n      setTitulo('Error!')\n      setColor('danger')\n      setMensaje(\n        `Los pagos ${respuesta} no fueron compensados debido a que sus códigos bancarios no coinciden con ninguno de los bancos existentes.`,\n      )\n    }\n  }\n\n  const customStyles = {\n    headRow: {\n      style: {\n        borderTopStyle: 'solid',\n        borderTopWidth: '1px',\n        borderTopColor: defaultThemes.default.divider.default,\n      },\n    },\n    headCells: {\n      style: {\n        paddingLeft: '8px', // override the cell padding for head cells\n        paddingRight: '8px',\n        fontSize: '12px',\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n    cells: {\n      style: {\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n  }\n\n  const formatear = (valor, moneda) => {\n    if (moneda === 'QTZ') {\n      return formatter.format(valor)\n    } else {\n      return formatterDolar.format(valor)\n    }\n  }\n\n  let formatter = new Intl.NumberFormat('es-GT', {\n    style: 'currency',\n    currency: 'GTQ',\n  })\n  let formatterDolar = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n  })\n\n  const columns = useMemo(() => {\n    if (MostrarReprocesar) {\n      return [\n        {\n          name: 'Empresa',\n          selector: (row) => row.empresa_nombre,\n          center: true,\n          style: {\n            fontSize: '11px',\n          },\n          sortable: true,\n          wrap: true,\n          width: '150px',\n          omit: OcultarCampo('Empresa'),\n        },\n        {\n          name: 'No.',\n          selector: (row) => row.doc_num,\n          center: true,\n          style: {\n            fontSize: '11px',\n          },\n          sortable: true,\n          width: '90px',\n          omit: OcultarCampo('No. documento'),\n        },\n        {\n          name: 'Fecha Sis.',\n          selector: (row) => row.creation_date,\n          center: true,\n          sortable: true,\n          style: {\n            fontSize: '11px',\n          },\n          width: '100px',\n          omit: OcultarCampo('Fecha sistema'),\n        },\n        {\n          name: 'Fecha auto.',\n          selector: (row) => row.aut_date,\n          center: true,\n          sortable: true,\n          style: {\n            fontSize: '11px',\n          },\n          width: '100px',\n          omit: OcultarCampo('Fecha autorización'),\n        },\n        {\n          name: 'Beneficiario',\n          selector: (row) => row.en_favor_de,\n          center: true,\n          sortable: true,\n          style: {\n            fontSize: '11px',\n          },\n          wrap: true,\n          width: '250px',\n          omit: OcultarCampo('Beneficiario'),\n        },\n        {\n          name: 'Concepto',\n          selector: (row) => row.comments,\n          center: true,\n          style: {\n            fontSize: '11px',\n          },\n          wrap: true,\n          width: anchoConcepto,\n          omit: OcultarCampo('Concepto'),\n        },\n        {\n          name: 'Monto',\n          selector: (row) => formatear(row.doc_total, row.doc_curr),\n          center: true,\n          style: {\n            fontSize: '11px',\n          },\n          width: '120px',\n          omit: OcultarCampo('Monto'),\n        },\n        {\n          name: 'Acciones',\n          cell: function OrderItems(row) {\n            return (\n              <div style={{ alignItems: 'center' }}>\n                <Button\n                  data-tag=\"allowRowEvents\"\n                  variant=\"success\"\n                  size=\"sm\"\n                  title=\"Consultar Detalle Pago\"\n                  onClick={() =>\n                    history.push({\n                      pathname: '/compensacion/tabs',\n                      id_flujo: row.id_flujo,\n                      pago: row.doc_num,\n                      deshabilitar: true,\n                    })\n                  }\n                >\n                  <FaList />\n                </Button>\n              </div>\n            )\n          },\n          center: true,\n          width: '70px',\n          omit: OcultarCampo('Acciones'),\n        },\n      ]\n    } else {\n      return [\n        {\n          cell: function OrderItems(row) {\n            if (row.TieneCheque > 0) {\n              return (\n                <div style={{ alignItems: 'center' }}>\n                  <input\n                    type=\"checkbox\"\n                    name=\"pagos\"\n                    key={row.id_flujo}\n                    value={row.id_flujo}\n                    onChange={handleInput}\n                    style={{ width: '18px', height: '18px' }}\n                    defaultChecked={estaChequeado(row.id_flujo)}\n                  />\n                </div>\n              )\n            } else {\n              return (\n                <div className=\"sm\">\n                  <input\n                    className=\"d-none\"\n                    type=\"checkbox\"\n                    name=\"pagos\"\n                    key={row.id_flujo}\n                    value={row.id_flujo}\n                    onChange={handleInput}\n                    style={{ width: '18px', height: '18px' }}\n                    defaultChecked={estaChequeado(row.id_flujo)}\n                  />\n                  sin cheque\n                </div>\n              )\n            }\n          },\n          center: true,\n          width: '7%',\n          omit: OcultarCampo('Selección'),\n        },\n        {\n          name: 'Empresa',\n          selector: (row) => row.empresa_nombre,\n          center: true,\n          style: {\n            fontSize: '11px',\n          },\n          sortable: true,\n          wrap: true,\n          width: '150px',\n          omit: OcultarCampo('Empresa'),\n        },\n        {\n          name: 'No.',\n          selector: (row) => row.doc_num,\n          center: true,\n          style: {\n            fontSize: '11px',\n          },\n          sortable: true,\n          width: '90px',\n          omit: OcultarCampo('No. documento'),\n        },\n        {\n          name: 'Fecha Sis.',\n          selector: (row) => row.creation_date,\n          center: true,\n          sortable: true,\n          style: {\n            fontSize: '11px',\n          },\n          width: '100px',\n          omit: OcultarCampo('Fecha sistema'),\n        },\n        {\n          name: 'Fecha auto.',\n          selector: (row) => row.aut_date,\n          center: true,\n          sortable: true,\n          style: {\n            fontSize: '11px',\n          },\n          width: '100px',\n          omit: OcultarCampo('Fecha autorización'),\n        },\n        {\n          name: 'Beneficiario',\n          selector: (row) => row.en_favor_de,\n          center: true,\n          sortable: true,\n          style: {\n            fontSize: '11px',\n          },\n          wrap: true,\n          width: '245px',\n          omit: OcultarCampo('Beneficiario'),\n        },\n        {\n          name: 'Concepto',\n          selector: (row) => row.comments,\n          center: true,\n          style: {\n            fontSize: '11px',\n          },\n          wrap: true,\n          width: anchoConcepto2,\n          omit: OcultarCampo('Concepto'),\n        },\n        {\n          name: 'Monto',\n          selector: (row) => formatear(row.doc_total, row.doc_curr),\n          center: true,\n          style: {\n            fontSize: '11px',\n          },\n          width: '120px',\n          omit: OcultarCampo('Monto'),\n        },\n        {\n          name: 'Acciones',\n          cell: function OrderItems(row) {\n            return (\n              <div style={{ alignItems: 'center' }}>\n                <Button\n                  data-tag=\"allowRowEvents\"\n                  variant=\"success\"\n                  size=\"sm\"\n                  title=\"Consultar Detalle Pago\"\n                  onClick={() =>\n                    history.push({\n                      pathname: '/compensacion/tabs',\n                      id_flujo: row.id_flujo,\n                      pago: row.doc_num,\n                      deshabilitar: true,\n                    })\n                  }\n                >\n                  <FaList />\n                </Button>\n              </div>\n            )\n          },\n          center: true,\n          width: '80px',\n          omit: OcultarCampo('Acciones'),\n        },\n      ]\n    }\n  })\n\n  const handleClear = () => {\n    if (filterText) {\n      setResetPaginationToggle(!resetPaginationToggle)\n      setFilterText('')\n    }\n  }\n\n  function mostrarModal() {\n    let pagos = []\n    var markedCheckbox = document.getElementsByName('pagos')\n    for (var checkbox of markedCheckbox) {\n      if (checkbox.checked) {\n        pagos.push(checkbox.value)\n      }\n    }\n    if (pagos.length > 0) {\n      setShow(true)\n      setPagos(pagos)\n    } else {\n      setShowAlert(true)\n      setTitulo('Error!')\n      setColor('danger')\n      setMensaje('No has seleccionado ningún pago.')\n    }\n  }\n\n  const tableData = {\n    columns: columns,\n    data: filteredItems,\n    filterPlaceholder: 'Filtrar datos',\n    export: false,\n    print: false,\n  }\n\n  if (session) {\n    let deshabilitar = false\n\n    if (!ExistePermisoObjeto('Modulo Compensacion Pagos')) {\n      deshabilitar = true\n    }\n    return (\n      <>\n        <Alert show={showAlert} variant={color} onClose={() => setShowAlert(false)} dismissible>\n          <Alert.Heading>{titulo}</Alert.Heading>\n          <p>{mensaje}</p>\n        </Alert>\n        <Modal responsive variant=\"primary\" show={show} onHide={handleClose} centered>\n          <Modal.Header closeButton>\n            <Modal.Title>Confirmación</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>Está seguro de compensar este pago?</Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleClose}>\n              Cancelar\n            </Button>\n            <Button variant=\"primary\" onClick={() => Compensar().then(handleClose)}>\n              Aceptar\n            </Button>\n          </Modal.Footer>\n        </Modal>\n        <div\n          className={MostrarReprocesar ? 'd-none float-right' : 'float-right'}\n          style={{ marginBottom: '10px' }}\n        >\n          <FilterComponent\n            onFilter={(e) => setFilterText(e.target.value)}\n            onClear={handleClear}\n            filterText={filterText}\n            enviar={mostrarModal}\n            deshabilitar={deshabilitar}\n          />\n        </div>\n        <DataTableExtensions {...tableData}>\n          <DataTable\n            columns={columns}\n            noDataComponent=\"No hay pagos que mostrar\"\n            data={filteredItems}\n            customStyles={customStyles}\n            pagination\n            paginationPerPage={25}\n            responsive={true}\n            persistTableHead\n            striped={true}\n            dense\n          />\n        </DataTableExtensions>\n      </>\n    )\n  } else {\n    history.push('/')\n    return <div className=\"sin-sesion\">SIN SESIÓN ACTIVA.</div>\n  }\n}\n\nexport default PendientesPago\n","const API = `${process.env.REACT_APP_API_URL}solicitudretorno`\n\nexport function getSolicitudRetorno(Tipo, idUsuario, token) {\n  let ApiFinal = API\n  let ApiWhere = ''\n\n  if (Tipo !== null) {\n    ApiWhere += '/' + Tipo\n  }\n  if (idUsuario !== null) {\n    ApiWhere += '/' + idUsuario\n  }\n  ApiFinal += ApiWhere\n  return fetch(ApiFinal, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { Button } from 'react-bootstrap'\nimport DataTable, { defaultThemes } from 'react-data-table-component'\nimport { getSolicitudRetorno } from '../../../../services/getSolicitudRetorno'\nimport { useSession } from 'react-use-session'\nimport { FaList } from 'react-icons/fa'\nimport '../../../../scss/estilos.scss'\nimport DataTableExtensions from 'react-data-table-component-extensions'\nimport 'react-data-table-component-extensions/dist/index.css'\nimport { getOcultarColumnaUsuario } from '../../../../services/getOcultarColumnaUsuario'\n\nconst SolicitudRetorno = (prop) => {\n  const history = useHistory()\n  const location = useLocation()\n  const { session } = useSession('PendrogonIT-Session')\n  const [results, setList] = useState([])\n  const [camposOcultos, setListOcultos] = useState([])\n  const [anchoConcepto, setAnchoConcepto] = useState('285px')\n  const filteredItems = results\n\n  useEffect(() => {\n    let mounted = true\n    if (location.comentarios && location.tipo) {\n      getSolicitudRetorno(location.tipo, session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setList(items.flujos)\n        }\n      })\n      getOcultarColumnaUsuario(session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setListOcultos(items.ocultar)\n          if (items.ocultar.length > 0) {\n            setAnchoConcepto('auto')\n          } else {\n            setAnchoConcepto('285px')\n          }\n        }\n      })\n    } else {\n      getSolicitudRetorno(prop.tipo, session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setList(items.flujos)\n        }\n      })\n      getOcultarColumnaUsuario(session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setListOcultos(items.ocultar)\n          if (items.ocultar.length > 0) {\n            setAnchoConcepto('auto')\n          } else {\n            setAnchoConcepto('285px')\n          }\n        }\n      })\n    }\n    return () => (mounted = false)\n  }, [])\n\n  const customStyles = {\n    headRow: {\n      style: {\n        borderTopStyle: 'solid',\n        borderTopWidth: '1px',\n        borderTopColor: defaultThemes.default.divider.default,\n      },\n    },\n    headCells: {\n      style: {\n        paddingLeft: '8px', // override the cell padding for head cells\n        paddingRight: '8px',\n        fontSize: '12px',\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n    cells: {\n      style: {\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n  }\n\n  function OcultarCampo(campo) {\n    let result = false\n    for (let item of camposOcultos) {\n      if (campo == item.NombreColumna) {\n        result = true\n      }\n    }\n    return result\n  }\n\n  const formatear = (valor, moneda) => {\n    if (moneda === 'QTZ') {\n      return formatter.format(valor)\n    } else {\n      return formatterDolar.format(valor)\n    }\n  }\n\n  let formatter = new Intl.NumberFormat('es-GT', {\n    style: 'currency',\n    currency: 'GTQ',\n  })\n  let formatterDolar = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n  })\n\n  const columns = useMemo(() => [\n    {\n      name: 'Empresa',\n      selector: (row) => row.empresa_nombre,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      wrap: true,\n      width: '150px',\n      omit: OcultarCampo('Empresa'),\n    },\n    {\n      name: 'No.',\n      selector: (row) => row.doc_num,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      width: '90px',\n      omit: OcultarCampo('No. documento'),\n    },\n    {\n      name: 'Fecha Sis.',\n      selector: (row) => row.creation_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha sistema'),\n    },\n    {\n      name: 'Fecha auto.',\n      selector: (row) => row.aut_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha autorización'),\n    },\n    {\n      name: 'Beneficiario',\n      selector: (row) => row.en_favor_de,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: '250px',\n      omit: OcultarCampo('Beneficiario'),\n    },\n    {\n      name: 'Concepto',\n      selector: (row) => row.comments,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: anchoConcepto,\n      omit: OcultarCampo('Concepto'),\n    },\n    {\n      name: 'Monto',\n      selector: (row) => formatear(row.doc_total, row.doc_curr),\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '120px',\n      omit: OcultarCampo('Monto'),\n    },\n    {\n      name: 'Acciones',\n      cell: function OrderItems(row) {\n        return (\n          <div>\n            <Button\n              data-tag=\"allowRowEvents\"\n              variant=\"success\"\n              size=\"sm\"\n              title=\"Consultar Detalle Pago\"\n              onClick={() =>\n                history.push({\n                  pathname: '/compensacion/tabs',\n                  id_flujo: row.id_flujo,\n                  pago: row.doc_num,\n                  estado: row.estado,\n                  nivel: row.nivel,\n                  id_grupo: row.id_grupoautorizacion,\n                })\n              }\n            >\n              <FaList />\n            </Button>\n          </div>\n        )\n      },\n      center: true,\n      width: '70px',\n      omit: OcultarCampo('Acciones'),\n    },\n  ])\n  const tableData = {\n    columns: columns,\n    data: filteredItems,\n    filterPlaceholder: 'Filtrar datos',\n    export: false,\n    print: false,\n  }\n\n  if (session) {\n    if (!location.tipo && !prop.tipo) {\n      history.push('/dashboard')\n      return (\n        <div className=\"sin-sesion\">\n          NO SE CARGÓ EL NÚMERO DE PAGO. REGRESE A LA PANTALLA DE PAGOS.\n        </div>\n      )\n    }\n    return (\n      <div>\n        <div>\n          <DataTableExtensions {...tableData}>\n            <DataTable\n              columns={columns}\n              noDataComponent=\"No hay pagos que mostrar\"\n              data={filteredItems}\n              customStyles={customStyles}\n              pagination\n              paginationPerPage={25}\n              responsive={true}\n              persistTableHead\n              striped={true}\n              dense\n            />\n          </DataTableExtensions>\n        </div>\n      </div>\n    )\n  } else {\n    history.push('/')\n    return <div className=\"sin-sesion\">SIN SESIÓN ACTIVA.</div>\n  }\n}\n\nexport default SolicitudRetorno\n","const API = `${process.env.REACT_APP_API_URL}lotes`\n\nexport function getLotesPago(Tipo, token) {\n  let ApiFinal = API\n  let ApiWhere = '/' + Tipo\n  ApiFinal += ApiWhere\n  return fetch(ApiFinal, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","import React, { useState, useEffect, useMemo } from 'react'\nimport ReactDOM from 'react-dom'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { Button, FormControl } from 'react-bootstrap'\nimport DataTable, { createTheme, defaultThemes } from 'react-data-table-component'\nimport { getLotesPago } from '../../../../services/getLotesPago'\nimport { postNotificacion } from '../../../../services/postNotificacion'\nimport { useSession } from 'react-use-session'\nimport { FaRegFilePdf, FaRegFileExcel, FaList } from 'react-icons/fa'\nimport '../../../../scss/estilos.scss'\nimport DataTableExtensions from 'react-data-table-component-extensions'\nimport 'react-data-table-component-extensions/dist/index.css'\nimport { CButton } from '@coreui/react'\n\nconst LotesPago = (prop) => {\n  const history = useHistory()\n  const location = useLocation()\n  const { session } = useSession('PendrogonIT-Session')\n  const [results, setList] = useState([])\n  const [LotesPago, setLotesPago] = useState([])\n  const filteredItems = results\n  const [mostrar, setMostrar] = useState(false)\n  const [urlArchivo, setUrlArchivo] = useState('https://arxiv.org/pdf/quant-ph/0410100.pdf')\n\n  const modalBody = () => (\n    <div\n      style={{\n        background: 'rgba(0,0,0,0.7)',\n        left: 0,\n        position: 'fixed',\n        top: 0,\n        height: '100%',\n        width: '100%',\n        zIndex: 10001,\n        display: 'flex',\n        flexDirection: 'column',\n        overflowY: 'scroll',\n      }}\n    >\n      <div className=\"float-right\" style={{ margin: '10px', textAlign: 'right' }}>\n        <Button variant=\"danger\" size=\"sm\" onClick={() => setMostrar(false)}>\n          Cerrar\n        </Button>\n      </div>\n      <object data={urlArchivo} type=\"application/pdf\" width=\"100%\" height=\"100%\">\n        <p>\n          Alternative text - include a link <a href={urlArchivo}>to the PDF!</a>\n        </p>\n      </object>\n    </div>\n  )\n\n  useEffect(() => {\n    let mounted = true\n    if (location.tipo) {\n      setLotesPago(location.LotesPago)\n      getLotesPago(location.tipo, session.api_token).then((items) => {\n        if (mounted) {\n          setList(items.lotes)\n        }\n      })\n    } else {\n      getLotesPago(prop.tipo, session.api_token).then((items) => {\n        if (mounted) {\n          setList(items.lotes)\n        }\n      })\n    }\n    return () => (mounted = false)\n  }, [])\n\n  const customStyles = {\n    headRow: {\n      style: {\n        borderTopStyle: 'solid',\n        borderTopWidth: '1px',\n        borderTopColor: defaultThemes.default.divider.default,\n      },\n    },\n    headCells: {\n      style: {\n        paddingLeft: '8px', // override the cell padding for head cells\n        paddingRight: '8px',\n        fontSize: '12px',\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n    cells: {\n      style: {\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n  }\n\n  const formatear = (valor, moneda) => {\n    if (moneda === 'QTZ') {\n      return formatter.format(valor)\n    } else {\n      return formatterDolar.format(valor)\n    }\n  }\n\n  let formatter = new Intl.NumberFormat('es-GT', {\n    style: 'currency',\n    currency: 'GTQ',\n  })\n  let formatterDolar = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n  })\n\n  const columns = useMemo(() => [\n    {\n      name: 'Lote',\n      selector: (row) => row.id_lotepago,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      wrap: true,\n    },\n    {\n      name: 'Fecha',\n      selector: (row) => row.fecha_hora,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n    },\n    {\n      name: 'Usuario',\n      selector: (row) => row.nombre + ' ' + row.apellido,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n    },\n    {\n      name: 'Archivos',\n      cell: function OrderItems(row) {\n        return (\n          <div>\n            <Button\n              variant=\"outline-danger\"\n              size=\"sm\"\n              title=\"Ver PDF\"\n              onClick={() => mostrarModal(row.id_lotepago)}\n            >\n              <FaRegFilePdf />\n            </Button>{' '}\n            <CButton\n              variant=\"outline\"\n              size=\"sm\"\n              title=\"descargar XLSX\"\n              href={`${process.env.REACT_APP_URL}archivos/PagosLote${row.id_lotepago}.xlsx`}\n            >\n              <FaRegFileExcel />\n            </CButton>\n          </div>\n        )\n      },\n      center: true,\n    },\n    /* {\n      name: 'Acciones',\n      cell: function OrderItems(row) {\n        return (\n          <div>\n            <Button\n              data-tag=\"allowRowEvents\"\n              variant=\"success\"\n              size=\"sm\"\n              title=\"Consultar Pagos\"\n              onClick={() =>\n                history.push({\n                  pathname: '/lote/pagos',\n                  id_lotepago: row.id_lotepago,\n                })\n              }\n            >\n              <FaList />\n            </Button>\n          </div>\n        )\n      },\n      center: true,\n    }, */\n  ])\n\n  function mostrarModal(idPagoLote) {\n    setUrlArchivo(`${process.env.REACT_APP_URL}archivos/PagosLote${idPagoLote}.pdf`)\n    setMostrar(true)\n  }\n\n  function mostrarModalXLSX(idPagoLote) {\n    setUrlArchivo(`${process.env.REACT_APP_URL}archivos/PagosLote${idPagoLote}.xlsx`)\n  }\n\n  const tableData = {\n    columns: columns,\n    data: filteredItems,\n    filterPlaceholder: 'Filtrar datos',\n    export: false,\n    print: false,\n  }\n  if (session) {\n    if (!location.tipo && !prop.tipo) {\n      history.push('/dashboard')\n      return (\n        <div className=\"sin-sesion\">\n          NO SE CARGÓ EL NÚMERO DE PAGO. REGRESE A LA PANTALLA DE PAGOS.\n        </div>\n      )\n    }\n    return (\n      <div>\n        {mostrar && ReactDOM.createPortal(modalBody(), document.body)}\n        <div>\n          <DataTableExtensions {...tableData}>\n            <DataTable\n              columns={columns}\n              noDataComponent=\"No hay lotes que mostrar\"\n              data={filteredItems}\n              customStyles={customStyles}\n              pagination\n              paginationPerPage={25}\n              responsive={true}\n              persistTableHead\n              striped={true}\n              dense\n            />\n          </DataTableExtensions>\n        </div>\n      </div>\n    )\n  } else {\n    history.push('/')\n    return <div className=\"sin-sesion\">SIN SESIÓN ACTIVA.</div>\n  }\n}\n\nexport default LotesPago\n"],"sourceRoot":""}