(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[115],{903:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(462),i=a(818),c=a(719),o=a(915),l=a(836),r=a(16),d=a(607),j=a(609),u=a(610),b=a(611),O=a(612),h=a(618),p=a(459),f=a(616),x=a(617),m=a(633),g=(a(465),a(463)),v=a(619),_=a(509),k=a(620),C=a(621),S=a(622),y=a(470),N=a(494),K=a(495),A=a(623),w=a(624),E=(a(460),a(464)),z=a(10);t.default=()=>{const e=Object(r.g)(),t=Object(r.h)(),[a,R]=Object(n.useState)(null),[B,T]=Object(n.useState)(!1),[D,G]=Object(n.useState)(!1),[I,P]=Object(n.useState)(""),[q,F]=Object(n.useState)(""),{session:H,clear:L}=Object(p.useSession)("PendrogonIT-Session"),[J,M]=Object(n.useState)([]),[V,Q]=Object(n.useState)([]),[U,W]=Object(n.useState)([]),[X,Y]=Object(n.useState)([]),[Z,$]=Object(n.useState)([]),[ee,te]=Object(n.useState)([]),[ae,ne]=Object(n.useState)([]),[se,ie]=Object(n.useState)([]),[ce,oe]=Object(n.useState)(0),[le,re]=Object(n.useState)(0),[de,je]=Object(n.useState)(0);function ue(e){let t=!1;for(let a of se)e==a.descripcion&&(t=!0);return t}async function be(t){if(1==t)T(!1);else if(2==t){let t=0;H&&(t=H.id);"OK"===await Object(g.a)(t,null,null,"2",H.api_token)&&(L(),e.push("/"))}else T(!1)}function Oe(e,t){5==t&&(oe(e),je(t),F("\xbfEst\xe1 seguro de actualizar el pago?"),G(!0)),6==t&&(oe(e),je(t),F("\xbfEst\xe1 seguro que desea regresar el pago a pendientes de compenzar para que sea reprocesado?"),G(!0)),7==t&&(oe(e),je(t),F("\xbfEst\xe1 seguro que desea solicitar el retorno del pago a bandeja de pendientes?"),G(!0)),8==t&&(oe(e),je(t),F("\xbfEst\xe1 seguro que desea rechazar la solicitar de retorno del pago a bandeja de pendientes?"),G(!0))}if(Object(n.useEffect)((()=>{let e=!0;return Object(v.a)(t.id_flujo,null,H.api_token).then((t=>{e&&M(t.solicitud)})),Object(C.a)(t.id_flujo,null,H.api_token).then((t=>{e&&Q(t.oferta)})),Object(S.a)(t.id_flujo,null,H.api_token).then((t=>{e&&W(t.orden)})),Object(k.a)(t.id_flujo,H.api_token).then((t=>{e&&Y(t.ingreso)})),Object(A.a)(t.id_flujo,H.api_token).then((t=>{e&&$(t.facturacantidad)})),Object(w.a)(t.id_flujo,H.api_token).then((t=>{e&&te(t.facturadocumento)})),Object(_.a)(t.id_flujo,null,H.api_token).then((t=>{e&&ne(t.archivos)})),Object(y.a)(H.id,"4","Modulo Compensacion Pagos",H.api_token).then((t=>{e&&ie(t.detalle)})),()=>e=!1}),[]),H){if(t.id_flujo){let a=!1,n=!1,r=!1,p=!1,g=!1,v=ue("Actualizar"),_=ue("Reprocesar"),k=!1,C=!1,S=!1;return J.length>0&&(a=!0),V.length>0&&(n=!0),U.length>0&&(r=!0),X.length>0&&(p=!0),Z.length>0&&(k=!0),ee.length>0&&(C=!0),ae.length>0&&(g=!0),"7"!=t.estado&&"9"!=t.estado&&"12"!=t.estado&&"13"!=t.estado||(v=!1),"12"!=t.estado&&(_=!1),"9"==t.estado&&(S=!0),Object(z.jsxs)("div",{className:"div-tabs",children:[Object(z.jsxs)(i.a,{responsive:!0,variant:"primary",show:B,onHide:()=>be(le),centered:!0,children:[Object(z.jsx)(i.a.Header,{closeButton:!0,children:Object(z.jsx)(i.a.Title,{children:"Confirmaci\xf3n"})}),Object(z.jsx)(i.a.Body,{children:I}),Object(z.jsxs)(i.a.Footer,{children:[Object(z.jsx)(c.a,{variant:"secondary",onClick:()=>be(le),children:"Cancelar"}),Object(z.jsx)(c.a,{variant:"primary",onClick:()=>be(le),children:"Aceptar"})]})]}),Object(z.jsxs)(i.a,{responsive:!0,variant:"primary",show:D,onHide:()=>be(de),centered:!0,children:[Object(z.jsx)(i.a.Header,{closeButton:!0,children:Object(z.jsx)(i.a.Title,{children:"Confirmaci\xf3n"})}),Object(z.jsx)(i.a.Body,{children:q}),Object(z.jsxs)(i.a.Footer,{children:[Object(z.jsx)(c.a,{variant:"secondary",onClick:()=>be(de),children:"Cancelar"}),Object(z.jsx)(c.a,{variant:"primary",onClick:()=>async function(t,a){let n=0;H&&(n=H.id),[].push(t),5==a&&"OK"==await Object(K.a)(t,"11",n,"Actualizado","0",H.api_token)&&"OK"==await Object(N.a)(t,"0","","66",null,n,H.api_token)&&e.go(-1);if(6==a){const a=await Object(N.a)(t,"0","","67",null,n,H.api_token),s=await Object(K.a)(t,"5",n,"Restituido a pendientes de compensar para su reprocesamiento","0",H.api_token);"OK"==a&&"OK"==s&&e.go(-1)}if(7==a){const a=await Object(N.a)(t,"0","","68",null,n,H.api_token),s=await Object(K.a)(t,"12",n,"Generada solicitud para retorno a bandeja de pendientes","0",H.api_token);"OK"==a&&"OK"==s&&e.go(-1)}if(8==a){const a=await Object(N.a)(t,"0","","69",null,n,H.api_token),s=await Object(K.a)(t,"13",n,"Rechazada solicitud para retorno a bandeja de pendientes","0",H.api_token);"OK"==a&&"OK"==s&&e.go(-1)}}(ce,de).then((()=>be(de))),children:"Aceptar"})]})]}),Object(z.jsx)("div",{className:v?"float-right":"d-none float-right",style:{marginTop:"15px",marginRight:"15px"},children:Object(z.jsx)(s.c,{className:v?"":"d-none",color:"info",size:"sm",onClick:()=>Oe(t.id_flujo,5),children:"Actualizar"})}),Object(z.jsxs)("div",{className:_?"float-right":"d-none float-right",style:{marginTop:"15px",marginRight:"15px"},children:[Object(z.jsx)(s.c,{className:_?"":"d-none",color:"info",size:"sm",onClick:()=>Oe(t.id_flujo,6),children:"Aprobar solicitud"})," ",Object(z.jsx)(s.c,{className:_?"":"d-none",color:"danger",size:"sm",onClick:()=>Oe(t.id_flujo,8),children:"Rechazar solicitud"})]}),Object(z.jsx)("div",{className:S?"float-right":"d-none float-right",style:{marginTop:"15px",marginRight:"15px"},children:Object(z.jsx)(s.c,{className:S?"":"d-none",color:"info",size:"sm",onClick:()=>Oe(t.id_flujo,7),children:"Solicitar retorno a bandeja"})}),Object(z.jsx)("div",{className:"float-left",style:{marginBottom:"10px"},children:Object(z.jsxs)(c.a,{variant:"primary",size:"sm",onClick:()=>e.goBack(),children:[Object(z.jsx)(E.c,{}),"\xa0\xa0Regresar"]})}),Object(z.jsx)("div",{className:"div-content",children:Object(z.jsx)("div",{style:{width:"100%"},children:Object(z.jsxs)(o.a,{defaultActiveKey:"archivos",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(z.jsx)(l.a,{eventKey:"archivos",title:"Soporte",tabClassName:g?"":"d-none",children:Object(z.jsx)(h.default,{results:ae})}),Object(z.jsx)(l.a,{eventKey:"solicitud",title:"Solicitud",tabClassName:a?"":"d-none",children:Object(z.jsx)(d.a,{results:J})}),Object(z.jsx)(l.a,{eventKey:"oferta",title:"Oferta Compra",tabClassName:n?"":"d-none",children:Object(z.jsx)(j.a,{results:V})}),Object(z.jsx)(l.a,{eventKey:"orden",title:"Orden Compra",tabClassName:r?"":"d-none",children:Object(z.jsx)(u.a,{results:U})}),Object(z.jsx)(l.a,{eventKey:"ingreso",title:"Ingreso Bodega",tabClassName:p?"":"d-none",children:Object(z.jsx)(b.a,{results:X})}),Object(z.jsx)(l.a,{eventKey:"facturasCantidad",title:"Factura Cantidad",tabClassName:k?"":"d-none",children:Object(z.jsx)(f.a,{results:Z})}),Object(z.jsx)(l.a,{eventKey:"facturasDocumento",title:"Factura Documento",tabClassName:C?"":"d-none",children:Object(z.jsx)(x.a,{results:ee})}),Object(z.jsx)(l.a,{eventKey:"bitacora",title:"Bit\xe1cora",children:Object(z.jsx)(m.a,{id_flujo:t.id_flujo})}),Object(z.jsx)(l.a,{eventKey:"detalle",title:"Detalle",children:Object(z.jsx)(O.default,{id_flujo:t.id_flujo})})]})})})]})}return e.go(-1),Object(z.jsx)("div",{className:"sin-sesion",children:"NO SE CARG\xd3 EL N\xdaMERO DE PAGO. REGRESE A LA PANTALLA DE PAGOS."})}return e.push("/"),Object(z.jsx)("div",{className:"sin-sesion",children:"SIN SESI\xd3N ACTIVA."})}}}]);
//# sourceMappingURL=115.5b227b76.chunk.js.map