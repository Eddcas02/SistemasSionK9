{"version":3,"sources":["services/getReporteCompensados.js","views/components/reportes/Compensados.js"],"names":["API","process","Compensados","prop","history","useHistory","session","clear","useSession","customizeToolbar","toolbar","tabs","getTabs","useEffect","mounted","pagos","token","api_token","fetch","method","headers","Authorization","Accept","then","response","json","catch","error","items","push","flujos","WebDataRocks","container","beforetoolbarcreated","height","report","dataSource","data","slice","rows","uniqueName","caption","conditions","formula","verde","measure","format","backgroundColor","color","fontFamily","fontSize","amarillo","options","grid","type","showTotals","showGrandTotals","showEmptyData","formats","name","thousandsSeparator","decimalSeparator","currencySymbol","currencySymbolAlign","nullValue","textAlign","isPercent","global","localization","spanish","id","className"],"mappings":"m0XAAA,MAAMA,EAAG,UAAMC,sCAAN,sB,8BCwJMC,UA/IMC,IACnB,MAAMC,EAAUC,eACV,QAAEC,EAAF,MAAWC,GAAUC,qBAAW,uBAuHtC,SAASC,EAAiBC,GACxB,IAAIC,EAAOD,EAAQE,UACnBF,EAAQE,QAAU,WAGhB,cAFOD,EAAK,UACLA,EAAK,GACLA,GAKX,OA/HAE,qBAAU,KACR,IAAIC,GAAU,EACVC,EAAQ,GDbT,IAA+BC,EC6HlC,OD7HkCA,ECcZV,EAAQW,UDbzBC,MAAMlB,EAAK,CAChBmB,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAYL,EAC3BM,OAAQ,sBAGTC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBC,OAAOC,GAAUA,KCGuBJ,MAAMK,IAC7C,GAAId,EAAS,CACXC,EAAMc,KAAKD,EAAME,QACL,IAAIC,aAAa,CAC3BC,UAAW,iBACXC,qBAAsBxB,EACtByB,OAAQ,IACRxB,SAAS,EACTyB,OAAQ,CACNC,WAAY,CACVC,KAAMT,EAAME,QAEdQ,MAAO,CACLC,KAAM,CACJ,CACEC,WAAY,iBACZC,QAAS,WAEX,CACED,WAAY,UACZC,QAAS,aAEX,CACED,WAAY,gBACZC,QAAS,UAEX,CACED,WAAY,cACZC,QAAS,gBAEX,CACED,WAAY,WACZC,QAAS,YAEX,CACED,WAAY,YACZC,QAAS,SAEX,CACED,WAAY,WACZC,QAAS,cAEX,CACED,WAAY,WACZC,QAAS,yBAEX,CACED,WAAY,QACZC,QAAS,2BAIfC,WAAY,CACV,CACEC,QAAQ,aAAD,OAAerC,EAAQsC,OAC9BC,QAAS,aACTC,OAAQ,CACNC,gBAAiB,UACjBC,MAAO,UACPC,WAAY,QACZC,SAAU,SAGd,CACEP,QAAQ,gBAAD,OAAkBrC,EAAQsC,MAA1B,uBAA8CtC,EAAQ6C,SAAtD,KACPN,QAAS,aACTC,OAAQ,CACNC,gBAAiB,UACjBC,MAAO,UACPC,WAAY,QACZC,SAAU,SAGd,CACEP,QAAQ,YAAD,OAAcrC,EAAQ6C,UAC7BN,QAAS,aACTC,OAAQ,CACNC,gBAAiB,UACjBC,MAAO,UACPC,WAAY,QACZC,SAAU,UAIhBE,QAAS,CACPC,KAAM,CACJC,KAAM,OACNC,WAAY,MACZC,gBAAiB,OAEnBC,eAAe,GAEjBC,QAAS,CACP,CACEC,KAAM,WACNC,mBAAoB,IACpBC,iBAAkB,IAClBC,eAAgB,GAChBC,oBAAqB,OACrBC,UAAW,GACXC,UAAW,SACXC,WAAW,KAIjBC,OAAQ,CACNC,aAAcC,SAKf,IAAOvD,GAAU,IACvB,IAYCR,EAEA,mCACE,qBAAKgE,GAAG,qBAIZlE,EAAQyB,KAAK,KACN,qBAAK0C,UAAU,aAAf","file":"static/js/105.9d4c9fa6.chunk.js","sourcesContent":["const API = `${process.env.REACT_APP_API_URL}compensadosreporte`\n\nexport function getReporteCompensados(token) {\n  return fetch(API, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","/* eslint-disable */\nimport React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { useSession } from 'react-use-session'\nimport { Button, Modal } from 'react-bootstrap'\nimport { getReporteCompensados } from '../../../services/getReporteCompensados'\nimport spanish from '../../../lenguaje/es.json'\nimport '../../../scss/estilos.scss'\n\nconst Compensados = (prop) => {\n  const history = useHistory()\n  const { session, clear } = useSession('PendrogonIT-Session')\n\n  useEffect(() => {\n    let mounted = true\n    let pagos = []\n    getReporteCompensados(session.api_token).then((items) => {\n      if (mounted) {\n        pagos.push(items.flujos)\n        var pivot = new WebDataRocks({\n          container: '#wdr-component',\n          beforetoolbarcreated: customizeToolbar,\n          height: 480,\n          toolbar: true,\n          report: {\n            dataSource: {\n              data: items.flujos,\n            },\n            slice: {\n              rows: [\n                {\n                  uniqueName: 'empresa_nombre',\n                  caption: 'Empresa',\n                },\n                {\n                  uniqueName: 'doc_num',\n                  caption: 'Documento',\n                },\n                {\n                  uniqueName: 'cuenta_orgien',\n                  caption: 'Cuenta',\n                },\n                {\n                  uniqueName: 'en_favor_de',\n                  caption: 'Beneficiario',\n                },\n                {\n                  uniqueName: 'comments',\n                  caption: 'Concepto',\n                },\n                {\n                  uniqueName: 'doc_total',\n                  caption: 'Monto',\n                },\n                {\n                  uniqueName: 'doc_date',\n                  caption: 'Emisión',\n                },\n                {\n                  uniqueName: 'aut_date',\n                  caption: 'Fecha autorización',\n                },\n                {\n                  uniqueName: 'fecha',\n                  caption: 'Fecha compensación',\n                },\n              ],\n            },\n            conditions: [\n              {\n                formula: `#value <= ${session.verde}`,\n                measure: 'porcentaje',\n                format: {\n                  backgroundColor: '#60FB7A',\n                  color: '#60FB7A',\n                  fontFamily: 'Arial',\n                  fontSize: '12px',\n                },\n              },\n              {\n                formula: `AND(#value > ${session.verde}, #value <= ${session.amarillo})`,\n                measure: 'porcentaje',\n                format: {\n                  backgroundColor: '#DACF3B',\n                  color: '#DACF3B',\n                  fontFamily: 'Arial',\n                  fontSize: '12px',\n                },\n              },\n              {\n                formula: `#value > ${session.amarillo}`,\n                measure: 'porcentaje',\n                format: {\n                  backgroundColor: '#FC756C',\n                  color: '#FC756C',\n                  fontFamily: 'Arial',\n                  fontSize: '12px',\n                },\n              },\n            ],\n            options: {\n              grid: {\n                type: 'flat',\n                showTotals: 'off',\n                showGrandTotals: 'off',\n              },\n              showEmptyData: false,\n            },\n            formats: [\n              {\n                name: '4ktymhkg',\n                thousandsSeparator: ' ',\n                decimalSeparator: '.',\n                currencySymbol: '',\n                currencySymbolAlign: 'left',\n                nullValue: '',\n                textAlign: 'center',\n                isPercent: true,\n              },\n            ],\n          },\n          global: {\n            localization: spanish,\n          },\n        })\n      }\n    })\n    return () => (mounted = false)\n  }, [])\n\n  function customizeToolbar(toolbar) {\n    var tabs = toolbar.getTabs()\n    toolbar.getTabs = function () {\n      delete tabs[0]\n      delete tabs[1]\n      return tabs\n    }\n  }\n\n\n  if (session) {\n    return (\n      <>\n        <div id=\"wdr-component\"></div>\n      </>\n    )\n  } else {\n    history.push('/')\n    return <div className=\"sin-sesion\">SIN SESIÓN ACTIVA.</div>\n  }\n}\n\nexport default Compensados\n"],"sourceRoot":""}