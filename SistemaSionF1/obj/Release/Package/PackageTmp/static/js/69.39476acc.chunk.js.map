{"version":3,"sources":["services/getOcultarColumnaUsuario.js","services/getAutorizados.js","views/components/flujos/flujo/Autorizados.js"],"names":["API","process","getOcultarColumnaUsuario","idUsuario","token","ApiFinal","ApiWhere","fetch","method","headers","Authorization","Accept","then","response","json","catch","error","getAutorizados","Tipo","Autorizados","prop","history","useHistory","location","useLocation","session","useSession","results","setList","useState","autorizados","setAutorizados","camposOcultos","setListOcultos","anchoConcepto","setAnchoConcepto","filteredItems","filteredItemsA","useEffect","mounted","tipo","opcion","datosNotificaciones","forEach","item","push","id_flujo","IdFlujo","estado","nivel","id_grupo","IdGrupo","PuedoAutorizar","pago","Pago","seccion","sessionStorage","setItem","JSON","stringify","datosMensajes","id","api_token","items","bitacora","datosOrdenados","id_grupoautorizacion","doc_num","ocultar","length","customStyles","headRow","style","borderTopStyle","borderTopWidth","borderTopColor","defaultThemes","default","divider","headCells","paddingLeft","paddingRight","fontSize","borderRightStyle","borderRightWidth","borderRightColor","cells","OcultarCampo","campo","result","NombreColumna","formatear","valor","moneda","formatter","format","formatterDolar","Intl","NumberFormat","currency","columns","useMemo","name","selector","row","empresa_nombre","center","sortable","wrap","width","omit","creation_date","en_favor_de","comments","doc_total","doc_curr","cell","Button","variant","size","title","onClick","pathname","columnsA","async","Estado","Nivel","pagos","postNotificacion","leerNotificaciones","tableData","data","filterPlaceholder","export","print","tableDataA","className","noDataComponent","pagination","paginationPerPage","responsive","persistTableHead","striped","dense","onSort","columna","direccion","e","sort","a","b"],"mappings":"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","file":"static/js/69.39476acc.chunk.js","sourcesContent":["const API = `${process.env.REACT_APP_API_URL}ocultarcolumnausuario`\n\nexport function getOcultarColumnaUsuario(idUsuario, token) {\n  let ApiFinal = API\n  let ApiWhere = ''\n  if (idUsuario !== null) {\n    ApiWhere += '/' + idUsuario\n  }\n  ApiFinal += ApiWhere\n  return fetch(ApiFinal, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","const API = `${process.env.REACT_APP_API_URL}autorizados`\n\nexport function getAutorizados(idUsuario, Tipo, token) {\n  let ApiFinal = API\n  let ApiWhere = ''\n\n  if (idUsuario !== null) {\n    ApiWhere += '/' + idUsuario\n  }\n  if (Tipo !== null) {\n    ApiWhere += '/' + Tipo\n  }\n  ApiFinal += ApiWhere\n  return fetch(ApiFinal, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { Button, FormControl } from 'react-bootstrap'\nimport DataTable, { createTheme, defaultThemes } from 'react-data-table-component'\nimport { getAutorizados } from '../../../../services/getAutorizados'\nimport { postNotificacion } from '../../../../services/postNotificacion'\nimport { useSession } from 'react-use-session'\nimport { FaList } from 'react-icons/fa'\nimport '../../../../scss/estilos.scss'\nimport DataTableExtensions from 'react-data-table-component-extensions'\nimport 'react-data-table-component-extensions/dist/index.css'\nimport { getOcultarColumnaUsuario } from '../../../../services/getOcultarColumnaUsuario'\n\nconst Autorizados = (prop) => {\n  const history = useHistory()\n  const location = useLocation()\n  const { session } = useSession('PendrogonIT-Session')\n  const [results, setList] = useState([])\n  const [autorizados, setAutorizados] = useState([])\n  const [camposOcultos, setListOcultos] = useState([])\n  const [anchoConcepto, setAnchoConcepto] = useState('285px')\n  const filteredItems = results\n  const filteredItemsA = autorizados\n\n  async function leerNotificaciones(IdFlujo, Pago, Estado, Nivel, IdGrupo) {\n    if (location.opcion == 1) {\n      let pagos = []\n      pagos.push(IdFlujo)\n      const respuesta = await postNotificacion(pagos, session.id, '', '1', session.api_token)\n      if (respuesta == 'OK') {\n        history.push({\n          pathname: '/pagos/tabs',\n          id_flujo: IdFlujo,\n          pago: Pago,\n          estado: Estado,\n          nivel: Nivel,\n          id_grupo: IdGrupo,\n          PuedoAutorizar: '0',\n          seccion: 'Notificaciones',\n        })\n      }\n    } else if (location.opcion == 2) {\n      history.push({\n        pathname: '/pagos/tabs',\n        id_flujo: IdFlujo,\n        pago: Pago,\n        estado: Estado,\n        nivel: Nivel,\n        id_grupo: IdGrupo,\n        PuedoAutorizar: '1',\n        seccion: 'Mensajes',\n      })\n    }\n  }\n\n  useEffect(() => {\n    let mounted = true\n    if (location.tipo) {\n      setAutorizados(location.autorizados)\n      if (location.autorizados) {\n        if (location.opcion == 1) {\n          let datosNotificaciones = []\n          location.autorizados.forEach((item) => {\n            datosNotificaciones.push({\n              id_flujo: item.IdFlujo,\n              estado: item.estado,\n              nivel: item.nivel,\n              id_grupo: item.IdGrupo,\n              PuedoAutorizar: '0',\n              pago: item.Pago,\n              seccion: 'Notificaciones',\n            })\n          })\n          sessionStorage.setItem('listaPagosNotificaciones', JSON.stringify(datosNotificaciones))\n        } else if (location.opcion == 2) {\n          let datosMensajes = []\n          location.autorizados.forEach((item) => {\n            datosMensajes.push({\n              id_flujo: item.IdFlujo,\n              estado: item.estado,\n              nivel: item.nivel,\n              id_grupo: item.IdGrupo,\n              PuedoAutorizar: '1',\n              pago: item.Pago,\n              seccion: 'Mensajes',\n            })\n          })\n          sessionStorage.setItem('listaPagosMensajes', JSON.stringify(datosMensajes))\n        }\n      }\n      getAutorizados(session.id, location.tipo, session.api_token).then((items) => {\n        if (mounted) {\n          setList(items.bitacora)\n          let datosOrdenados = []\n          items.bitacora.forEach((item) => {\n            datosOrdenados.push({\n              id_flujo: item.IdFlujo,\n              estado: item.estado,\n              nivel: item.nivel,\n              id_grupo: item.id_grupoautorizacion,\n              PuedoAutorizar: '0',\n              pago: item.doc_num,\n              seccion: 'Autorizados',\n            })\n          })\n          sessionStorage.setItem('listaPagosAutorizados', JSON.stringify(datosOrdenados))\n        }\n      })\n      getOcultarColumnaUsuario(session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setListOcultos(items.ocultar)\n          if (items.ocultar.length > 0) {\n            setAnchoConcepto('auto')\n          } else {\n            setAnchoConcepto('285px')\n          }\n        }\n      })\n    } else {\n      getAutorizados(session.id, prop.tipo, session.api_token).then((items) => {\n        if (mounted) {\n          setList(items.bitacora)\n          let datosOrdenados = []\n          items.bitacora.forEach((item) => {\n            datosOrdenados.push({\n              id_flujo: item.IdFlujo,\n              estado: item.estado,\n              nivel: item.nivel,\n              id_grupo: item.id_grupoautorizacion,\n              PuedoAutorizar: '0',\n              pago: item.doc_num,\n              seccion: 'Autorizados',\n            })\n          })\n          sessionStorage.setItem('listaPagosAutorizados', JSON.stringify(datosOrdenados))\n        }\n      })\n      getOcultarColumnaUsuario(session.id, session.api_token).then((items) => {\n        if (mounted) {\n          setListOcultos(items.ocultar)\n          if (items.ocultar.length > 0) {\n            setAnchoConcepto('auto')\n          } else {\n            setAnchoConcepto('285px')\n          }\n        }\n      })\n    }\n    return () => (mounted = false)\n  }, [])\n\n  const customStyles = {\n    headRow: {\n      style: {\n        borderTopStyle: 'solid',\n        borderTopWidth: '1px',\n        borderTopColor: defaultThemes.default.divider.default,\n      },\n    },\n    headCells: {\n      style: {\n        paddingLeft: '8px', // override the cell padding for head cells\n        paddingRight: '8px',\n        fontSize: '12px',\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n    cells: {\n      style: {\n        '&:not(:last-of-type)': {\n          borderRightStyle: 'solid',\n          borderRightWidth: '1px',\n          borderRightColor: defaultThemes.default.divider.default,\n        },\n      },\n    },\n  }\n\n  function OcultarCampo(campo) {\n    let result = false\n    for (let item of camposOcultos) {\n      if (campo == item.NombreColumna) {\n        result = true\n      }\n    }\n    return result\n  }\n\n  const formatear = (valor, moneda) => {\n    if (moneda === 'QTZ') {\n      return formatter.format(valor)\n    } else {\n      return formatterDolar.format(valor)\n    }\n  }\n\n  let formatter = new Intl.NumberFormat('es-GT', {\n    style: 'currency',\n    currency: 'GTQ',\n  })\n  let formatterDolar = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n  })\n\n  const columns = useMemo(() => [\n    {\n      name: 'Empresa',\n      selector: (row) => row.empresa_nombre,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      wrap: true,\n      width: '150px',\n      omit: OcultarCampo('Empresa'),\n    },\n    {\n      name: 'No.',\n      selector: (row) => row.doc_num,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      width: '90px',\n      omit: OcultarCampo('No. documento'),\n    },\n    {\n      name: 'Fecha Sis.',\n      selector: (row) => row.creation_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha sistema'),\n    },\n    {\n      name: 'Beneficiario',\n      selector: (row) => row.en_favor_de,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: '250px',\n      omit: OcultarCampo('Beneficiario'),\n    },\n    {\n      name: 'Concepto',\n      selector: (row) => row.comments,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: anchoConcepto,\n      omit: OcultarCampo('Concepto'),\n    },\n    {\n      name: 'Monto',\n      selector: (row) => formatear(row.doc_total, row.doc_curr),\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '120px',\n      omit: OcultarCampo('Monto'),\n    },\n    {\n      name: 'Acciones',\n      cell: function OrderItems(row) {\n        return (\n          <div>\n            <Button\n              data-tag=\"allowRowEvents\"\n              variant=\"success\"\n              size=\"sm\"\n              title=\"Consultar Detalle Pago\"\n              onClick={() =>\n                history.push({\n                  pathname: '/pagos/tabs',\n                  id_flujo: row.IdFlujo,\n                  pago: row.doc_num,\n                  estado: row.estado,\n                  nivel: row.nivel,\n                  id_grupo: row.id_grupoautorizacion,\n                  PuedoAutorizar: '0',\n                  seccion: 'Autorizados',\n                })\n              }\n            >\n              <FaList />\n            </Button>\n          </div>\n        )\n      },\n      center: true,\n      width: '70px',\n      omit: OcultarCampo('Acciones'),\n    },\n  ])\n\n  const columnsA = useMemo(() => [\n    {\n      name: 'Empresa',\n      selector: (row) => row.empresa_nombre,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      wrap: true,\n      width: '150px',\n      omit: OcultarCampo('Empresa'),\n    },\n    {\n      name: 'No.',\n      selector: (row) => row.Pago,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      width: '90px',\n      omit: OcultarCampo('No. documento'),\n    },\n    {\n      name: 'Fecha Sis.',\n      selector: (row) => row.creation_date,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '100px',\n      omit: OcultarCampo('Fecha sistema'),\n    },\n    {\n      name: 'Tipo',\n      selector: (row) => row.tipo,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      sortable: true,\n      width: '123px',\n      omit: OcultarCampo('Tipo'),\n    },\n    {\n      name: 'Beneficiario',\n      selector: (row) => row.en_favor_de,\n      center: true,\n      sortable: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: '250px',\n      omit: OcultarCampo('Beneficiario'),\n    },\n    {\n      name: 'Concepto',\n      selector: (row) => row.comments,\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      wrap: true,\n      width: anchoConcepto,\n      omit: OcultarCampo('Concepto'),\n    },\n    {\n      name: 'Monto',\n      selector: (row) => formatear(row.doc_total, row.doc_curr),\n      center: true,\n      style: {\n        fontSize: '11px',\n      },\n      width: '120px',\n      omit: OcultarCampo('Monto'),\n    },\n    {\n      name: 'Acciones',\n      cell: function OrderItems(row) {\n        return (\n          <div>\n            <Button\n              data-tag=\"allowRowEvents\"\n              variant=\"success\"\n              size=\"sm\"\n              title=\"Consultar Detalle Pago\"\n              onClick={() =>\n                leerNotificaciones(row.IdFlujo, row.Pago, row.estado, row.nivel, row.IdGrupo)\n              }\n            >\n              <FaList />\n            </Button>\n          </div>\n        )\n      },\n      center: true,\n      width: '70px',\n      omit: OcultarCampo('Acciones'),\n    },\n  ])\n  const tableData = {\n    columns: columns,\n    data: filteredItems,\n    filterPlaceholder: 'Filtrar datos',\n    export: false,\n    print: false,\n  }\n  const tableDataA = {\n    columns: columnsA,\n    data: filteredItemsA,\n    filterPlaceholder: 'Filtrar datos',\n    export: false,\n    print: false,\n  }\n\n  function Ordenamiento(columna, direccion, e) {\n    if (columna.name == 'Empresa' && direccion == 'asc') {\n      filteredItems.sort(function (a, b) {\n        if (a.empresa_nombre > b.empresa_nombre) {\n          return 1\n        }\n        if (a.empresa_nombre < b.empresa_nombre) {\n          return -1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Empresa' && direccion == 'desc') {\n      filteredItems.sort(function (a, b) {\n        if (a.empresa_nombre > b.empresa_nombre) {\n          return -1\n        }\n        if (a.empresa_nombre < b.empresa_nombre) {\n          return 1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'No.' && direccion == 'asc') {\n      filteredItems.sort(function (a, b) {\n        if (a.doc_num > b.doc_num) {\n          return 1\n        }\n        if (a.doc_num < b.doc_num) {\n          return -1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'No.' && direccion == 'desc') {\n      filteredItems.sort(function (a, b) {\n        if (a.doc_num > b.doc_num) {\n          return -1\n        }\n        if (a.doc_num < b.doc_num) {\n          return 1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Fecha Sis.' && direccion == 'asc') {\n      filteredItems.sort(function (a, b) {\n        if (a.creation_date > b.creation_date) {\n          return 1\n        }\n        if (a.creation_date < b.creation_date) {\n          return -1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Fecha Sis.' && direccion == 'desc') {\n      filteredItems.sort(function (a, b) {\n        if (a.creation_date > b.creation_date) {\n          return -1\n        }\n        if (a.creation_date < b.creation_date) {\n          return 1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Beneficiario' && direccion == 'asc') {\n      filteredItems.sort(function (a, b) {\n        if (a.en_favor_de > b.en_favor_de) {\n          return 1\n        }\n        if (a.en_favor_de < b.en_favor_de) {\n          return -1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Beneficiario' && direccion == 'desc') {\n      filteredItems.sort(function (a, b) {\n        if (a.en_favor_de > b.en_favor_de) {\n          return -1\n        }\n        if (a.en_favor_de < b.en_favor_de) {\n          return 1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Monto' && direccion == 'asc') {\n      filteredItems.sort(function (a, b) {\n        if (formatear(a.doc_total, a.doc_curr) > formatear(b.doc_total, b.doc_curr)) {\n          return 1\n        }\n        if (formatear(a.doc_total, a.doc_curr) < formatear(b.doc_total, b.doc_curr)) {\n          return -1\n        }\n        return 0\n      })\n    }\n    if (columna.name == 'Monto' && direccion == 'desc') {\n      filteredItems.sort(function (a, b) {\n        if (formatear(a.doc_total, a.doc_curr) > formatear(b.doc_total, b.doc_curr)) {\n          return -1\n        }\n        if (formatear(a.doc_total, a.doc_curr) < formatear(b.doc_total, b.doc_curr)) {\n          return 1\n        }\n        return 0\n      })\n    }\n    let datosOrdenados = []\n    filteredItems.forEach((item) => {\n      datosOrdenados.push({\n        id_flujo: item.IdFlujo,\n        estado: item.estado,\n        nivel: item.nivel,\n        id_grupo: item.id_grupoautorizacion,\n        PuedoAutorizar: '0',\n        pago: item.doc_num,\n        seccion: 'Autorizados',\n      })\n    })\n    sessionStorage.setItem('listaPagosAutorizados', JSON.stringify(datosOrdenados))\n    return true\n  }\n\n  if (session) {\n    if (!location.tipo && !prop.tipo) {\n      history.push('/dashboard')\n      return (\n        <div className=\"sin-sesion\">\n          NO SE CARGÓ EL NÚMERO DE PAGO. REGRESE A LA PANTALLA DE PAGOS.\n        </div>\n      )\n    }\n    if (location.tipo) {\n      return (\n        <div>\n          <div>\n            <div className=\"datatable-title\">Pagos Notificados</div>\n            <DataTableExtensions {...tableDataA}>\n              <DataTable\n                columns={columnsA}\n                noDataComponent=\"No hay pagos que mostrar\"\n                data={filteredItemsA}\n                customStyles={customStyles}\n                pagination\n                paginationPerPage={5}\n                responsive={true}\n                persistTableHead\n                striped={true}\n                dense\n              />\n            </DataTableExtensions>\n          </div>\n        </div>\n      )\n    }\n    return (\n      <div>\n        <div>\n          <DataTableExtensions {...tableData}>\n            <DataTable\n              columns={columns}\n              noDataComponent=\"No hay pagos que mostrar\"\n              data={filteredItems}\n              customStyles={customStyles}\n              pagination\n              paginationPerPage={25}\n              responsive={true}\n              persistTableHead\n              striped={true}\n              onSort={Ordenamiento}\n              dense\n            />\n          </DataTableExtensions>\n        </div>\n      </div>\n    )\n  } else {\n    history.push('/')\n    return <div className=\"sin-sesion\">SIN SESIÓN ACTIVA.</div>\n  }\n}\n\nexport default Autorizados\n"],"sourceRoot":""}