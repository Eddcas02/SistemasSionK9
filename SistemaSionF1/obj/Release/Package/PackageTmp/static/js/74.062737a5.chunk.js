(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[74],{541:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i}));const s="".concat("http://34.208.193.210/apipagos/api/","sesionusuario");function r(e,t){let o=s,r="";return null!==e&&(r+="/"+e),o+=r,fetch(o,{method:"GET",headers:{Authorization:"Bearer "+t,Accept:"application/json"}}).then((function(e){return e.json()})).catch((e=>e))}function i(e){let t="".concat("http://34.208.193.210/apipagos/api/","sesionusuariogeneral");return fetch(t,{method:"GET",headers:{Authorization:"Bearer "+e,Accept:"application/json"}}).then((function(e){return e.json()})).catch((e=>e))}},918:function(e,t,o){"use strict";o.r(t);var s=o(1),r=o(16),i=o(915),n=o(836),a=o(818),c=(o(465),o(463)),l=o(541),d=o(470),u=o(459),b=o(464),j=(o(460),o(462)),h=o(469),p=o.n(h),f=o(471),O=o.n(f),m=(o(472),o(10));var x=()=>{const e=Object(r.g)(),[t,o]=Object(s.useState)(null),{session:i,clear:n}=Object(u.useSession)("PendrogonIT-Session"),[f,x]=Object(s.useState)([]),[y,S]=Object(s.useState)([]),[g,C]=Object(s.useState)(!1),[v,T]=Object(s.useState)("");function I(e){let t=!1;for(let o of y)e===o.objeto&&(t=!0);return t}async function N(t){if(1==t)C(!1);else if(2==t){let t=0;i&&(t=i.id);"OK"===await Object(c.a)(t,null,null,"2",i.api_token)&&(n(),e.push("/"))}}Object(s.useEffect)((()=>{let e=!0,t=0;return i&&(t=i.id),Object(l.a)(null,i.api_token).then((t=>{e&&x(t.sesiones)})),Object(d.a)(t,"2","Modulo Conectados",i.api_token).then((t=>{e&&S(t.detalle)})),()=>e=!1}),[]);const k={headRow:{style:{borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:h.defaultThemes.default.divider.default}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px",fontSize:"12px","&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:h.defaultThemes.default.divider.default}}},cells:{style:{"&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:h.defaultThemes.default.divider.default}}}},A=Object(s.useMemo)((()=>[{name:"Usuario",selector:e=>e.NombreUsuario,center:!0,style:{fontSize:"11px"},sortable:!0,wrap:!0},{name:"IP",selector:e=>e.IPAddress,center:!0,style:{fontSize:"11px"},sortable:!0},{name:"Navegador",selector:e=>e.Navegador,center:!0,sortable:!0,style:{fontSize:"11px"}},{name:"Hora Inicio",selector:e=>e.FechaHoraInicio,center:!0,sortable:!0,style:{fontSize:"11px"},wrap:!0},{name:"Acciones",cell:function(t){let o=!1;return I("Modulo Conectados")||(o=!0),Object(m.jsx)("div",{children:Object(m.jsx)(j.c,{color:"primary",size:"sm",title:"Hist\xf3rico Usuario",disabled:o,onClick:()=>e.push({pathname:"/conectados/historico",IdUsuario:t.IdUsuario,NombreUsuario:t.NombreUsuario}),children:Object(m.jsx)(b.k,{})})})},center:!0,width:"200px"}])),R={columns:A,data:f,filterPlaceholder:"Filtrar datos",export:!1,print:!1};if(i){let e=!1;return I("Modulo Conectados")||(e=!0),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(a.a,{responsive:!0,variant:"primary",show:g,onHide:()=>N(2),centered:!0,children:[Object(m.jsx)(a.a.Header,{closeButton:!0,children:Object(m.jsx)(a.a.Title,{children:"Confirmaci\xf3n"})}),Object(m.jsx)(a.a.Body,{children:v}),Object(m.jsxs)(a.a.Footer,{children:[Object(m.jsx)(j.c,{color:"secondary",onClick:()=>N(2),children:"Cancelar"}),Object(m.jsx)(j.c,{color:"primary",onClick:()=>N(1),children:"Aceptar"})]})]}),Object(m.jsx)(O.a,{...R,children:Object(m.jsx)(p.a,{columns:A,noDataComponent:"No hay registros que mostrar",data:f,customStyles:k,pagination:!0,paginationPerPage:25,responsive:!0,persistTableHead:!0,striped:!0,dense:!0})})]})}return e.push("/"),Object(m.jsx)("div",{className:"sin-sesion",children:"SIN SESI\xd3N ACTIVA."})};var y=()=>{const e=Object(r.g)(),[t,o]=Object(s.useState)(null),{session:i,clear:n}=Object(u.useSession)("PendrogonIT-Session"),[f,x]=Object(s.useState)([]),[y,S]=Object(s.useState)([]),[g,C]=Object(s.useState)(!1),[v,T]=Object(s.useState)("");function I(e){let t=!1;for(let o of y)e===o.objeto&&(t=!0);return t}async function N(t){if(1==t)C(!1);else if(2==t){let t=0;i&&(t=i.id);"OK"===await Object(c.a)(t,null,null,"2",i.api_token)&&(n(),e.push("/"))}}Object(s.useEffect)((()=>{let e=!0,t=0;return i&&(t=i.id),Object(l.b)(i.api_token).then((t=>{e&&x(t.sesiones)})),Object(d.a)(t,"2","Modulo Conectados",i.api_token).then((t=>{e&&S(t.detalle)})),()=>e=!1}),[]);const k={headRow:{style:{borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:h.defaultThemes.default.divider.default}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px",fontSize:"12px","&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:h.defaultThemes.default.divider.default}}},cells:{style:{"&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:h.defaultThemes.default.divider.default}}}},A=Object(s.useMemo)((()=>[{name:"Usuario",selector:e=>e.NombreUsuario,center:!0,style:{fontSize:"11px"},sortable:!0,wrap:!0},{name:"\xdaltima Inicio",selector:e=>e.FechaHoraInicio,center:!0,sortable:!0,style:{fontSize:"11px"},wrap:!0},{name:"Acciones",cell:function(t){let o=!1;return I("Modulo Conectados")||(o=!0),Object(m.jsx)("div",{children:Object(m.jsx)(j.c,{color:"primary",size:"sm",title:"Hist\xf3rico Usuario",disabled:o,onClick:()=>e.push({pathname:"/conectados/historico",IdUsuario:t.IdUsuario,NombreUsuario:t.NombreUsuario}),children:Object(m.jsx)(b.k,{})})})},center:!0,width:"200px"}])),R={columns:A,data:f,filterPlaceholder:"Filtrar datos",export:!1,print:!1};if(i){let e=!1;return I("Modulo Conectados")||(e=!0),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(a.a,{responsive:!0,variant:"primary",show:g,onHide:()=>N(2),centered:!0,children:[Object(m.jsx)(a.a.Header,{closeButton:!0,children:Object(m.jsx)(a.a.Title,{children:"Confirmaci\xf3n"})}),Object(m.jsx)(a.a.Body,{children:v}),Object(m.jsxs)(a.a.Footer,{children:[Object(m.jsx)(j.c,{color:"secondary",onClick:()=>N(2),children:"Cancelar"}),Object(m.jsx)(j.c,{color:"primary",onClick:()=>N(1),children:"Aceptar"})]})]}),Object(m.jsx)(O.a,{...R,children:Object(m.jsx)(p.a,{columns:A,noDataComponent:"No hay registros que mostrar",data:f,customStyles:k,pagination:!0,paginationPerPage:25,responsive:!0,persistTableHead:!0,striped:!0,dense:!0})})]})}return e.push("/"),Object(m.jsx)("div",{className:"sin-sesion",children:"SIN SESI\xd3N ACTIVA."})};t.default=()=>{const e=Object(r.g)(),{session:t,clear:o}=Object(u.useSession)("PendrogonIT-Session");return t?Object(m.jsx)("div",{className:"div-tabs",children:Object(m.jsx)("div",{className:"div-content",children:Object(m.jsx)("div",{style:{width:"100%"},children:Object(m.jsxs)(i.a,{defaultActiveKey:"Conectados",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(m.jsx)(n.a,{eventKey:"Conectados",title:"Conectados",children:Object(m.jsx)(x,{})}),Object(m.jsx)(n.a,{eventKey:"General",title:"General",children:Object(m.jsx)(y,{tipo:"General"})})]})})})}):(e.push("/"),Object(m.jsx)("div",{className:"sin-sesion",children:"SIN SESI\xd3N ACTIVA."}))}}}]);
//# sourceMappingURL=74.062737a5.chunk.js.map