(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[72],{476:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));const a="".concat("http://34.208.193.210/apipagos/api/","ocultarcolumnausuario");function n(e,t){let o=a,n="";return null!==e&&(n+="/"+e),o+=n,fetch(o,{method:"GET",headers:{Authorization:"Bearer "+t,Accept:"application/json"}}).then((function(e){return e.json()})).catch((e=>e))}},551:function(e,t,o){"use strict";o.r(t);var a=o(1),n=o(16),r=o(719),i=o(469),c=o.n(i);const s="".concat("http://34.208.193.210/apipagos/api/","rechazados");function d(e,t,o){let a=s,n="";return null!==e&&(n+="/"+e),null!==t&&(n+="/"+t),a+=n,fetch(a,{method:"GET",headers:{Authorization:"Bearer "+o,Accept:"application/json"}}).then((function(e){return e.json()})).catch((e=>e))}var l=o(481),u=o(459),p=o(464),m=(o(460),o(471)),h=o.n(m),_=(o(472),o(476)),f=o(10);t.default=e=>{const t=Object(n.g)(),o=Object(n.h)(),{session:s}=Object(u.useSession)("PendrogonIT-Session"),[m,b]=Object(a.useState)([]),[j,g]=Object(a.useState)([]),[x,S]=Object(a.useState)([]),[v,O]=Object(a.useState)("285px"),y=m,z=j;Object(a.useEffect)((()=>{let t=!0;return o.tipo?(g(o.rechazados),d(s.id,o.tipo,s.api_token).then((e=>{if(t){b(e.bitacora);let t=[];e.bitacora.forEach((e=>{t.push({id_flujo:e.IdFlujo,estado:e.estado,nivel:e.nivel,id_grupo:e.id_grupoautorizacion,PuedoAutorizar:"0",pago:e.doc_num,seccion:"Rechazados"})})),sessionStorage.setItem("listaPagosRechazados",JSON.stringify(t))}})),Object(_.a)(s.id,s.api_token).then((e=>{t&&(S(e.ocultar),e.ocultar.length>0?O("auto"):O("285px"))}))):(d(s.id,e.tipo,s.api_token).then((e=>{if(t){b(e.bitacora);let t=[];e.bitacora.forEach((e=>{t.push({id_flujo:e.IdFlujo,estado:e.estado,nivel:e.nivel,id_grupo:e.id_grupoautorizacion,PuedoAutorizar:"0",pago:e.doc_num,seccion:"Rechazados"})})),sessionStorage.setItem("listaPagosRechazados",JSON.stringify(t))}})),Object(_.a)(s.id,s.api_token).then((e=>{t&&(S(e.ocultar),e.ocultar.length>0?O("auto"):O("285px"))}))),()=>t=!1}),[]);const w={headRow:{style:{borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:i.defaultThemes.default.divider.default}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px",fontSize:"12px","&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:i.defaultThemes.default.divider.default}}},cells:{style:{"&:not(:last-of-type)":{borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:i.defaultThemes.default.divider.default}}}};function E(e){let t=!1;for(let o of x)e==o.NombreColumna&&(t=!0);return t}const N=(e,t)=>"QTZ"===t?A.format(e):P.format(e);let A=new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}),P=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});const R=Object(a.useMemo)((()=>[{name:"Empresa",selector:e=>e.empresa_nombre,center:!0,style:{fontSize:"11px"},sortable:!0,wrap:!0,width:"150px",omit:E("Empresa")},{name:"No.",selector:e=>e.doc_num,center:!0,style:{fontSize:"11px"},sortable:!0,width:"90px",omit:E("No. documento")},{name:"Fecha Sis.",selector:e=>e.creation_date,center:!0,sortable:!0,style:{fontSize:"11px"},width:"100px",omit:E("Fecha sistema")},{name:"Beneficiario",selector:e=>e.en_favor_de,center:!0,sortable:!0,style:{fontSize:"11px"},wrap:!0,width:"250px",omit:E("Beneficiario")},{name:"Concepto",selector:e=>e.comments,center:!0,style:{fontSize:"11px"},wrap:!0,width:v,omit:E("Concepto")},{name:"Monto",selector:e=>N(e.doc_total,e.doc_curr),center:!0,style:{fontSize:"11px"},width:"120px",omit:E("Monto")},{name:"Acciones",cell:function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(r.a,{"data-tag":"allowRowEvents",variant:"success",size:"sm",title:"Consultar Detalle Pago",onClick:()=>t.push({pathname:"/pagos/tabs",id_flujo:e.IdFlujo,pago:e.doc_num,estado:e.estado,nivel:e.nivel,id_grupo:e.id_grupoautorizacion,PuedoAutorizar:"0",seccion:"Rechazados"}),children:Object(f.jsx)(p.k,{})})})},center:!0,width:"70px",omit:E("Acciones")}])),T=Object(a.useMemo)((()=>[{name:"Empresa",selector:e=>e.empresa_nombre,center:!0,style:{fontSize:"11px"},sortable:!0,wrap:!0,width:"150px",omit:E("Empresa")},{name:"No.",selector:e=>e.Pago,center:!0,style:{fontSize:"11px"},sortable:!0,width:"90px",omit:E("No. documento")},{name:"Fecha Sis.",selector:e=>e.creation_date,center:!0,sortable:!0,style:{fontSize:"11px"},width:"100px",omit:E("Fecha sistema")},{name:"Tipo",selector:e=>e.tipo,center:!0,style:{fontSize:"11px"},sortable:!0,width:"123px",omit:E("Tipo")},{name:"Beneficiario",selector:e=>e.en_favor_de,center:!0,sortable:!0,style:{fontSize:"11px"},wrap:!0,width:"250px",omit:E("Beneficiario")},{name:"Concepto",selector:e=>e.comments,center:!0,style:{fontSize:"11px"},wrap:!0,width:v,omit:E("Concepto")},{name:"Monto",selector:e=>N(e.doc_total,e.doc_curr),center:!0,style:{fontSize:"11px"},width:"120px",omit:E("Monto")},{name:"Acciones",cell:function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(r.a,{"data-tag":"allowRowEvents",variant:"success",size:"sm",title:"Consultar Detalle Pago",onClick:()=>async function(e,o,a,n,r){let i=[];i.push(e),"OK"==await Object(l.a)(i,s.id,"","1",s.api_token)&&t.push({pathname:"/pagos/tabs",id_flujo:e,pago:o,estado:a,nivel:n,id_grupo:r})}(e.IdFlujo,e.Pago,e.IdGrupo,e.estado,e.nivel),children:Object(f.jsx)(p.k,{})})})},center:!0,width:"70px",omit:E("Acciones")}])),C={columns:R,data:y,filterPlaceholder:"Filtrar datos",export:!1,print:!1},F={columns:T,data:z,filterPlaceholder:"Filtrar datos",export:!1,print:!1};return s?o.tipo||e.tipo?o.tipo?Object(f.jsx)("div",{children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"datatable-title",children:"Pagos Notificados"}),Object(f.jsx)(h.a,{...F,children:Object(f.jsx)(c.a,{columns:T,noDataComponent:"No hay pagos que mostrar",data:z,customStyles:w,pagination:!0,paginationPerPage:5,responsive:!0,persistTableHead:!0,striped:!0,dense:!0})})]})}):Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:Object(f.jsx)(h.a,{...C,children:Object(f.jsx)(c.a,{columns:R,noDataComponent:"No hay pagos que mostrar",data:y,customStyles:w,pagination:!0,paginationPerPage:25,responsive:!0,persistTableHead:!0,striped:!0,onSort:function(e,t,o){"Empresa"==e.name&&"asc"==t&&y.sort((function(e,t){return e.empresa_nombre>t.empresa_nombre?1:e.empresa_nombre<t.empresa_nombre?-1:0})),"Empresa"==e.name&&"desc"==t&&y.sort((function(e,t){return e.empresa_nombre>t.empresa_nombre?-1:e.empresa_nombre<t.empresa_nombre?1:0})),"No."==e.name&&"asc"==t&&y.sort((function(e,t){return e.doc_num>t.doc_num?1:e.doc_num<t.doc_num?-1:0})),"No."==e.name&&"desc"==t&&y.sort((function(e,t){return e.doc_num>t.doc_num?-1:e.doc_num<t.doc_num?1:0})),"Fecha Sis."==e.name&&"asc"==t&&y.sort((function(e,t){return e.creation_date>t.creation_date?1:e.creation_date<t.creation_date?-1:0})),"Fecha Sis."==e.name&&"desc"==t&&y.sort((function(e,t){return e.creation_date>t.creation_date?-1:e.creation_date<t.creation_date?1:0})),"Beneficiario"==e.name&&"asc"==t&&y.sort((function(e,t){return e.en_favor_de>t.en_favor_de?1:e.en_favor_de<t.en_favor_de?-1:0})),"Beneficiario"==e.name&&"desc"==t&&y.sort((function(e,t){return e.en_favor_de>t.en_favor_de?-1:e.en_favor_de<t.en_favor_de?1:0})),"Monto"==e.name&&"asc"==t&&y.sort((function(e,t){return N(e.doc_total,e.doc_curr)>N(t.doc_total,t.doc_curr)?1:N(e.doc_total,e.doc_curr)<N(t.doc_total,t.doc_curr)?-1:0})),"Monto"==e.name&&"desc"==t&&y.sort((function(e,t){return N(e.doc_total,e.doc_curr)>N(t.doc_total,t.doc_curr)?-1:N(e.doc_total,e.doc_curr)<N(t.doc_total,t.doc_curr)?1:0}));let a=[];return y.forEach((e=>{a.push({id_flujo:e.IdFlujo,estado:e.estado,nivel:e.nivel,id_grupo:e.id_grupoautorizacion,PuedoAutorizar:"0",pago:e.doc_num,seccion:"Rechazados"})})),sessionStorage.setItem("listaPagosRechazados",JSON.stringify(a)),!0},dense:!0})})})}):(t.push("/dashboard"),Object(f.jsx)("div",{className:"sin-sesion",children:"NO SE CARG\xd3 EL N\xdaMERO DE PAGO. REGRESE A LA PANTALLA DE PAGOS."})):(t.push("/"),Object(f.jsx)("div",{className:"sin-sesion",children:"SIN SESI\xd3N ACTIVA."}))}}}]);
//# sourceMappingURL=72.d5eedd62.chunk.js.map