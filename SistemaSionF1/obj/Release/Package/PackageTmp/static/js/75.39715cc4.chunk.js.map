{"version":3,"sources":["services/getSoporteBitacora.js","views/components/bitacora/DetalleBitacora.js"],"names":["API","process","getSoporteBitacora","inicio","fin","id","token","ApiFinal","ApiWhere","fetch","method","headers","Authorization","Accept","then","response","json","catch","error","Bitacora","history","useHistory","location","useLocation","session","clear","useSession","results","setList","useState","permisos","setPermisos","useEffect","mounted","idUsuario","id_bitacora","api_token","items","bitacora","getPerfilUsuario","detalle","className","style","marginBottom","variant","size","onClick","goBack","nombre_usuario","nombre","apellido","fecha_hora","accion","objeto","parametros_anteriores","parametros_nuevos","push"],"mappings":"6KAAA,wCAAMA,EAAG,UAAMC,sCAAN,mBAEF,SAASC,EAAmBC,EAAQC,EAAKC,EAAIC,GAClD,IAAIC,EAAWP,EACXQ,EAAW,GAQf,OAPe,OAAXL,IACFK,GAAY,IAAML,EAAS,IAAMC,GAExB,OAAPC,IACFG,GAAY,IAAMH,GAEpBE,GAAYC,EACLC,MAAMF,EAAU,CACrBG,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAYN,EAC3BO,OAAQ,sBAGTC,MAAK,SAAUC,GACd,OAAOA,EAASC,UAEjBC,OAAOC,GAAUA,M,iCCtBtB,+IAiGeC,UApFE,KACf,MAAMC,EAAUC,cACVC,EAAWC,eACX,QAAEC,EAAF,MAAWC,GAAUC,qBAAW,wBAC/BC,EAASC,GAAWC,mBAAS,KAC7BC,EAAUC,GAAeF,mBAAS,IAsBzC,OApBAG,qBAAU,KACR,IAAIC,GAAU,EAEVC,EAAY,EAchB,OAbIV,IACFU,EAAYV,EAAQnB,IAEtBH,YAAmB,KAAM,KAAMoB,EAASa,YAAaX,EAAQY,WAAWtB,MAAMuB,IACxEJ,GACFL,EAAQS,EAAMC,SAAS,OAG3BC,YAAiBL,EAAW,IAVf,kBAU4BV,EAAQY,WAAWtB,MAAMuB,IAC5DJ,GACFF,EAAYM,EAAMG,YAGf,IAAOP,GAAU,IACvB,IAECT,EAEA,qCACE,qBAAKiB,UAAU,aAAaC,MAAO,CAAEC,aAAc,QAAnD,SACE,eAAC,IAAD,CAAQC,QAAQ,UAAUC,KAAK,KAAKC,QAAS,IAAM1B,EAAQ2B,SAA3D,UACE,cAAC,IAAD,IADF,wBAKF,uBACA,uBACA,qBAAKN,UAAU,WAAf,SACE,8BACE,eAAC,IAAD,CAAWA,UAAU,cAArB,UACE,eAAC,IAAD,CAAKA,UAAU,cAAf,UACE,cAAC,IAAD,CAAKA,UAAU,qBAAf,qBACA,cAAC,IAAD,CAAKA,UAAU,cAAf,SAA8Bd,EAAQqB,oBAExC,eAAC,IAAD,CAAKP,UAAU,cAAf,UACE,cAAC,IAAD,CAAKA,UAAU,qBAAf,oBACA,cAAC,IAAD,CAAKA,UAAU,cAAf,SAA8Bd,EAAQsB,OAAS,IAAMtB,EAAQuB,cAE/D,eAAC,IAAD,CAAKT,UAAU,cAAf,UACE,cAAC,IAAD,CAAKA,UAAU,qBAAf,mBACA,cAAC,IAAD,CAAKA,UAAU,cAAf,SAA8Bd,EAAQwB,gBAExC,eAAC,IAAD,CAAKV,UAAU,cAAf,UACE,cAAC,IAAD,CAAKA,UAAU,qBAAf,uBACA,cAAC,IAAD,CAAKA,UAAU,cAAf,SAA8Bd,EAAQyB,YAExC,eAAC,IAAD,CAAKX,UAAU,cAAf,UACE,cAAC,IAAD,CAAKA,UAAU,qBAAf,oBACA,cAAC,IAAD,CAAKA,UAAU,cAAf,SAA8Bd,EAAQ0B,YAExC,eAAC,IAAD,CAAKZ,UAAU,cAAf,UACE,cAAC,IAAD,CAAKA,UAAU,qBAAf,8BACA,cAAC,IAAD,CAAKA,UAAU,cAAf,SACE,+BAAOd,EAAQ2B,6BAGnB,eAAC,IAAD,CAAKb,UAAU,cAAf,UACE,cAAC,IAAD,CAAKA,UAAU,qBAAf,0BACA,cAAC,IAAD,CAAKA,UAAU,cAAf,SACE,+BAAOd,EAAQ4B,oCAS7BnC,EAAQoC,KAAK,KACN,qBAAKf,UAAU,aAAf","file":"static/js/75.39715cc4.chunk.js","sourcesContent":["const API = `${process.env.REACT_APP_API_URL}soportebitacora`\n\nexport function getSoporteBitacora(inicio, fin, id, token) {\n  let ApiFinal = API\n  let ApiWhere = ''\n  if (inicio !== null) {\n    ApiWhere += '/' + inicio + '/' + fin\n  }\n  if (id !== null) {\n    ApiWhere += '/' + id\n  }\n  ApiFinal += ApiWhere\n  return fetch(ApiFinal, {\n    method: 'GET',\n    headers: {\n      Authorization: 'Bearer ' + token,\n      Accept: 'application/json',\n    },\n  })\n    .then(function (response) {\n      return response.json()\n    })\n    .catch((error) => error)\n}\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { getSoporteBitacora } from '../../../services/getSoporteBitacora'\nimport { getPerfilUsuario } from '../../../services/getPerfilUsuario'\nimport { useSession } from 'react-use-session'\nimport { FaList, FaArrowLeft } from 'react-icons/fa'\nimport '../../../scss/estilos.scss'\nimport { CButton } from '@coreui/react'\nimport DataTable, { defaultThemes } from 'react-data-table-component'\nimport DataTableExtensions from 'react-data-table-component-extensions'\nimport 'react-data-table-component-extensions/dist/index.css'\nimport { Button, Row, Col, Container, Modal } from 'react-bootstrap'\n\nconst Bitacora = () => {\n  const history = useHistory()\n  const location = useLocation()\n  const { session, clear } = useSession('PendrogonIT-Session')\n  const [results, setList] = useState([])\n  const [permisos, setPermisos] = useState([])\n\n  useEffect(() => {\n    let mounted = true\n    let objeto = 'Modulo Bitacora'\n    let idUsuario = 0\n    if (session) {\n      idUsuario = session.id\n    }\n    getSoporteBitacora(null, null, location.id_bitacora, session.api_token).then((items) => {\n      if (mounted) {\n        setList(items.bitacora[0])\n      }\n    })\n    getPerfilUsuario(idUsuario, '2', objeto, session.api_token).then((items) => {\n      if (mounted) {\n        setPermisos(items.detalle)\n      }\n    })\n    return () => (mounted = false)\n  }, [])\n\n  if (session) {\n    return (\n      <>\n        <div className=\"float-left\" style={{ marginBottom: '10px' }}>\n          <Button variant=\"primary\" size=\"sm\" onClick={() => history.goBack()}>\n            <FaArrowLeft />\n            &nbsp;&nbsp;Regresar\n          </Button>\n        </div>\n        <br />\n        <br />\n        <div className=\"div-tabs\">\n          <div>\n            <Container className=\"mb-0 border\">\n              <Row className=\"mb-0 border\">\n                <Col className=\"mb-0 border column\">Usuario</Col>\n                <Col className=\"mb-0 border\">{results.nombre_usuario}</Col>\n              </Row>\n              <Row className=\"mb-0 border\">\n                <Col className=\"mb-0 border column\">Nombre</Col>\n                <Col className=\"mb-0 border\">{results.nombre + ' ' + results.apellido}</Col>\n              </Row>\n              <Row className=\"mb-0 border\">\n                <Col className=\"mb-0 border column\">Fecha</Col>\n                <Col className=\"mb-0 border\">{results.fecha_hora}</Col>\n              </Row>\n              <Row className=\"mb-0 border\">\n                <Col className=\"mb-0 border column\">Acción</Col>\n                <Col className=\"mb-0 border\">{results.accion}</Col>\n              </Row>\n              <Row className=\"mb-0 border\">\n                <Col className=\"mb-0 border column\">Objeto</Col>\n                <Col className=\"mb-0 border\">{results.objeto}</Col>\n              </Row>\n              <Row className=\"mb-0 border\">\n                <Col className=\"mb-0 border column\">Datos anteriores</Col>\n                <Col className=\"mb-0 border\">\n                  <code>{results.parametros_anteriores}</code>\n                </Col>\n              </Row>\n              <Row className=\"mb-0 border\">\n                <Col className=\"mb-0 border column\">Datos nuevos</Col>\n                <Col className=\"mb-0 border\">\n                  <code>{results.parametros_nuevos}</code>\n                </Col>\n              </Row>\n            </Container>\n          </div>\n        </div>\n      </>\n    )\n  } else {\n    history.push('/')\n    return <div className=\"sin-sesion\">SIN SESIÓN ACTIVA.</div>\n  }\n}\n\nexport default Bitacora\n"],"sourceRoot":""}